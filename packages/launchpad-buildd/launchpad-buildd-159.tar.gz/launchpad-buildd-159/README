****************
launchpad-buildd
****************

This project is the buildd slave daemon used by Launchpad's package-building
infrastructure.

It is licenced under the GNU Affero General Public Licence, version 3 (see the
file LICENCE) except for some files originating elsewhere, which are marked
with the licence that applies.

See https://dev.launchpad.net/ for more context.

----

In order to build the package you need dpkg-dev and fakeroot

To build the package do:

debian/rules package
dpkg-buildpackage -rfakeroot -b

It will "fail" because the package built in the "wrong" place. Don't
worry about that.

To clean up, do:

fakeroot debian/rules clean
rm launchpad-buildd*deb
rm ../launchpad-buildd*changes

-----------------------------------------------------------------------

How to use the chroot tool:

buildd-slave-chroot-tool --intervene <chroot tarball>

...will unpack the chroot tarball, mount up the proc etc filesystems
in it and chroot into it.

When you leave the chroot, it will ask you if you want to repack the
tarball. If you answer yes then it will repack it, if you answer no,
then it will merely clean up and exit.

If you wish to build a new chroot then first copy the example.chroot
file from /usr/share/doc/launchpad-buildd/ and edit it to your
requirements.

Next run buildd-slave-chroot-tool --generate config.filename

You must have sudo capability and ideally you would run this as the
buildd user on a machine with launchpad-buildd installed.

Once you have completed the chroot building, you will be left with a
file named chroot-<distro>-<distrorelease>-<arch>.tar.bz2 which should
be uploaded to the librarian from a machine with librarian access and
then marked as the chroot for the given pocket.

You should retain the configuration file so that we know how the
chroot was built in case we need to rebuild it at a later date.

