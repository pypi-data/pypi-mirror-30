

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>aglyph.assembler — The Aglyph component assembler &mdash; Aglyph 3.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Aglyph 3.0.0 documentation" href="index.html"/>
        <link rel="up" title="Aglyph API reference" href="api-ref.html"/>
        <link rel="next" title="aglyph.component — Defining components and their dependencies" href="aglyph.component.html"/>
        <link rel="prev" title="aglyph — Dependency Injection for Python" href="aglyph.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Aglyph
          

          
          </a>

          
            
            
              <div class="version">
                3.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="whats-new.html">What’s new in release 3.0.0?</a></li>
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Getting started with Aglyph</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Aglyph cookbook</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api-ref.html">Aglyph API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="aglyph.html"><code class="docutils literal"><span class="pre">aglyph</span></code> — Dependency Injection for Python</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal"><span class="pre">aglyph.assembler</span></code> — The Aglyph component assembler</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.component.html"><code class="docutils literal"><span class="pre">aglyph.component</span></code> — Defining components and their dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.context.html"><code class="docutils literal"><span class="pre">aglyph.context</span></code> — Defining component contexts</a></li>
<li class="toctree-l2"><a class="reference internal" href="aglyph.integration.cherrypy.html"><code class="docutils literal"><span class="pre">aglyph.integration.cherrypy</span></code> — Integrating Aglyph with CherryPy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="context-fluent-api.html">The Aglyph Context fluent API</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Aglyph 3.0.0 testing summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap for future releases</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Aglyph</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="api-ref.html">Aglyph API reference</a> &raquo;</li>
        
      <li><code class="docutils literal"><span class="pre">aglyph.assembler</span></code> — The Aglyph component assembler</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="aglyph-assembler-the-aglyph-component-assembler">
<h1><a class="reference internal" href="#module-aglyph.assembler" title="aglyph.assembler"><code class="xref py py-mod docutils literal"><span class="pre">aglyph.assembler</span></code></a> — The Aglyph component assembler<a class="headerlink" href="#aglyph-assembler-the-aglyph-component-assembler" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">3.0.0</td>
</tr>
</tbody>
</table>
<span class="target" id="module-aglyph.assembler"></span><p>The Aglyph assembler creates application objects from component
definitions, injecting dependencies into those objects through
initialization arguments and keywords, attributes, setter methods,
and/or properties.</p>
<p>Application components and their dependencies are defined in an
<a class="reference internal" href="aglyph.context.html#aglyph.context.Context" title="aglyph.context.Context"><code class="xref py py-class docutils literal"><span class="pre">aglyph.context.Context</span></code></a>, which is used to initialize an
assembler.</p>
<p>An assembler provides thread-safe caching of <strong>singleton</strong> component
instances, <strong>borg</strong> component shared-states (i.e. instance <code class="docutils literal"><span class="pre">__dict__</span></code>
references), and <strong>weakref</strong> component instance weak references.</p>
<dl class="class">
<dt id="aglyph.assembler.Assembler">
<em class="property">class </em><code class="descclassname">aglyph.assembler.</code><code class="descname">Assembler</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Create application objects using type 2 (setter) and type 3
(constructor) dependency injection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>context</strong> (<a class="reference internal" href="aglyph.context.html#aglyph.context.Context" title="aglyph.context.Context"><em>aglyph.context.Context</em></a>) – a context object mapping unique IDs to component and template
definitions</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="aglyph.assembler.Assembler.assemble">
<code class="descname">assemble</code><span class="sig-paren">(</span><em>component_spec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.assemble"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.assemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an object identified by <em>component_spec</em> and inject
its dependencies.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>component_spec</strong> – a unique component ID, or an object whose dotted name is a
unique component ID</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a complete object with all of its resolved dependencies</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.6)"><strong>KeyError</strong></a> – if <em>component_spec</em> does not identify a component in this
assembler’s context</li>
<li><a class="reference internal" href="aglyph.html#aglyph.AglyphError" title="aglyph.AglyphError"><strong>aglyph.AglyphError</strong></a> – if <em>component_spec</em> causes a circular dependency</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If <em>component_spec</em> is a string, it is assumed to be a unique
component ID and is used as-is. Otherwise,
<a class="reference internal" href="aglyph.html#aglyph.format_dotted_name" title="aglyph.format_dotted_name"><code class="xref py py-func docutils literal"><span class="pre">aglyph.format_dotted_name()</span></code></a> is called to convert
<em>component_spec</em> into a dotted name string, which is assumed to
be the component’s unique ID.</p>
<p>How a component object is assembled (created, initialized,
wired, and returned) is determined by the component’s
<a class="reference internal" href="aglyph.component.html#aglyph.component.Component.strategy" title="aglyph.component.Component.strategy"><code class="xref py py-attr docutils literal"><span class="pre">aglyph.component.Component.strategy</span></code></a>:</p>
<dl class="docutils">
<dt><strong>“prototype”</strong></dt>
<dd><p class="first">A new object is always created, initialized, wired, and
returned.</p>
<p class="last">This is the default assembly strategy for Aglyph components.</p>
</dd>
<dt><strong>“singleton”</strong></dt>
<dd><p class="first">If the component has been assembled already during the
current application lifetime <strong>and</strong> there has been no
intervening call to <a class="reference internal" href="#aglyph.assembler.Assembler.clear_singletons" title="aglyph.assembler.Assembler.clear_singletons"><code class="xref py py-meth docutils literal"><span class="pre">clear_singletons()</span></code></a>, then a cached
reference to the object is returned.</p>
<p>Otherwise, a new object is created, initialized, wired,
cached, and returned.</p>
<p>Singleton component objects are cached by their
<code class="xref py py-attr docutils literal"><span class="pre">aglyph.component.Component.unique_id</span></code>.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Assembly of singleton components is a thread-safe
operation.</p>
</div>
</dd>
<dt><strong>“borg”</strong></dt>
<dd><p class="first">If the component has been assembled already during the
current application lifetime <strong>and</strong> there has been no
intervening call to <a class="reference internal" href="#aglyph.assembler.Assembler.clear_borgs" title="aglyph.assembler.Assembler.clear_borgs"><code class="xref py py-meth docutils literal"><span class="pre">clear_borgs()</span></code></a>, then a new instance
is created and a cached reference to the shared-state is
directly assigned to the instance <code class="docutils literal"><span class="pre">__dict__</span></code>.</p>
<p>Otherwise, a new instance is created, initialized, and wired;
its instance <code class="docutils literal"><span class="pre">__dict__</span></code> is cached; and the instance is
returned.</p>
<p>Borg component instance shared-states are cached by their
<code class="xref py py-attr docutils literal"><span class="pre">aglyph.component.Component.unique_id</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Assembly of borg components is a thread-safe operation.</p>
</div>
<div class="last admonition warning">
<p class="first admonition-title">Warning</p>
<p>The borg assembly strategy is <strong>only</strong> supported for
components whose objects have an instance <code class="docutils literal"><span class="pre">__dict__</span></code>.</p>
<p class="last">This means that components using builtin classes, or
components using classes that define or inherit a
<code class="docutils literal"><span class="pre">__slots__</span></code> member, <strong>cannot</strong> be declated as borg
components.</p>
</div>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.1.0: </span>support for the “weakref” assembly strategy</p>
</div>
<dl class="docutils">
<dt><strong>“weakref”</strong></dt>
<dd><p class="first">In the simplest terms, this is a “prototype” that can exhibit
“singleton” behavior: as long as there is at least one “live”
reference to the assembled object in the application runtime,
then requests to assemble this component will return the same
(cached) object.</p>
<p>When the only reference to the assembled object that remains
is the cached (weak) reference, the Python garbage collector
is free to destroy the object, at which point it is
automatically removed from the Aglyph cache.
Subsequent requests to assemble the same component will cause
a new object to be created, initialized, wired, cached (as a
weak reference), and returned.</p>
<div class="last admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please refer to the <a class="reference external" href="https://docs.python.org/3/library/weakref.html#module-weakref" title="(in Python v3.6)"><code class="xref py py-mod docutils literal"><span class="pre">weakref</span></code></a> module for a detailed
explanation of weak reference behavior.</p>
</div>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.0.0: </span><strong>Either</strong> <a class="reference internal" href="aglyph.component.html#aglyph.component.Component.factory_name" title="aglyph.component.Component.factory_name"><code class="xref py py-attr docutils literal"><span class="pre">aglyph.component.Component.factory_name</span></code></a>
<strong>or</strong> <a class="reference internal" href="aglyph.component.html#aglyph.component.Component.member_name" title="aglyph.component.Component.member_name"><code class="xref py py-attr docutils literal"><span class="pre">aglyph.component.Component.member_name</span></code></a> may be
defined to exercise more control over how a component object
is created and initialized. Refer to the linked documentation
for details.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This method is called recursively to assemble any dependency
of <em>component_spec</em> that is defined as a
<a class="reference internal" href="aglyph.component.html#aglyph.component.Reference" title="aglyph.component.Reference"><code class="xref py py-class docutils literal"><span class="pre">aglyph.component.Reference</span></code></a>.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aglyph.assembler.Assembler.init_singletons">
<code class="descname">init_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.init_singletons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.init_singletons" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble and cache all singleton component objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the initialized singleton component IDs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">list</span></code></a></td>
</tr>
</tbody>
</table>
<p>This method may be called at any time to “prime” the internal
singleton cache. For example, to eagerly initialize all
singleton components for your application:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">assembler</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="n">my_context</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">init_singletons</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Only singleton components that do not <em>already</em> have cached
objects will be initialized by this method.</p>
<p class="last">Initialization of singleton component objects is a
thread-safe operation.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aglyph.assembler.Assembler.clear_singletons">
<code class="descname">clear_singletons</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.clear_singletons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.clear_singletons" title="Permalink to this definition">¶</a></dt>
<dd><p>Evict all cached singleton component objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the evicted singleton component IDs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">list</span></code></a></td>
</tr>
</tbody>
</table>
<p>Aglyph makes the following guarantees:</p>
<ol class="arabic simple">
<li>All cached singleton objects’ “before_clear” lifecycle
methods are called (if specified) when they are evicted from
cache.</li>
<li>The singleton cache will be empty when this method
terminates.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Any exception raised by a “before_clear” lifecycle method is
caught, logged, and issued as a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeWarning" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">RuntimeWarning</span></code></a>.</p>
<p class="last">Eviction of cached singleton component objects is a
thread-safe operation.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aglyph.assembler.Assembler.init_borgs">
<code class="descname">init_borgs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.init_borgs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.init_borgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble and cache the shared-states for all borg component
objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the initialized borg component IDs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">list</span></code></a></td>
</tr>
</tbody>
</table>
<p>This method may be called at any time to “prime” the internal
borg cache. For example, to eagerly initialize all borg
component shared-states for your application:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">assembler</span> <span class="o">=</span> <span class="n">Assembler</span><span class="p">(</span><span class="n">my_context</span><span class="p">)</span>
<span class="n">assembler</span><span class="o">.</span><span class="n">init_borgs</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Only borg components that do not <em>already</em> have cached
shared-states will be initialized by this method.</p>
<p class="last">Initialization of borg component shared-states is a
thread-safe operation.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aglyph.assembler.Assembler.clear_borgs">
<code class="descname">clear_borgs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.clear_borgs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.clear_borgs" title="Permalink to this definition">¶</a></dt>
<dd><p>Evict all cached borg component shared-states.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the evicted borg component IDs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">list</span></code></a></td>
</tr>
</tbody>
</table>
<p>Aglyph makes the following guarantees:</p>
<ol class="arabic simple">
<li>All cached borg shared-states’ “before_clear” lifecycle
methods are called (if specified) when they are evicted from
cache.</li>
<li>The borg cache will be empty when this method terminates.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Any exception raised by a “before_clear” lifecycle method is
caught, logged, and issued as a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeWarning" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">RuntimeWarning</span></code></a>.</p>
<p class="last">Eviction of cached borg component shared-states is a
thread-safe operation.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="aglyph.assembler.Assembler.clear_weakrefs">
<code class="descname">clear_weakrefs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.clear_weakrefs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.clear_weakrefs" title="Permalink to this definition">¶</a></dt>
<dd><p>Evict all cached weakref component objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the evicted weakref component IDs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">list</span></code></a></td>
</tr>
</tbody>
</table>
<p>Aglyph makes the following guarantees:</p>
<ol class="arabic simple">
<li><strong>IF</strong> a cached weakref object is still available <strong>AND</strong>
the component definition specifies a “before_clear” lifecycle
method, Aglyph will call that method when the object is
evicted.</li>
<li>The weakref cache will be empty when this method terminates.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Any exception raised by a “before_clear” lifecycle method is
caught, logged, and issued as a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeWarning" title="(in Python v3.6)"><code class="xref py py-class docutils literal"><span class="pre">RuntimeWarning</span></code></a>.</p>
<p class="last">Eviction of cached weakref component objects is a thread-safe
operation.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>While eviction of weakref components is a thread-safe
operation with respect to <em>explicit</em> modification of the
weakref cache (i.e. any other thread attempting to
<a class="reference internal" href="#aglyph.assembler.Assembler.assemble" title="aglyph.assembler.Assembler.assemble"><code class="xref py py-meth docutils literal"><span class="pre">assemble()</span></code></a> a weakref component or to
<code class="docutils literal"><span class="pre">clear_weakrefs()</span></code> will be blocked until this method
returns), the nature of weak references means that entries
may still “disappear” from the cache <em>even while the cache
lock is held.</em></p>
<p>With respect to cache-clearing, this means that referent
component objects may no longer be available even <em>after</em> the
cache lock has been acquired and the weakref component IDs
(keys) are retrieved from the cache. Practically speaking,
this means that callers must be aware of two things:</p>
<ol class="last arabic simple">
<li>Aglyph <strong>cannot</strong> guarantee that “before_clear” lifecycle
methods are called on weakref component objects, because
there is no guarantee that a cached weak references is
“live.” (This is the nature of weak references.)</li>
<li>Aglyph will only return the component IDs of weakref
component objects that were “live” at the moment they were
cleared.</li>
</ol>
</div>
<p>Please refer to the <a class="reference external" href="https://docs.python.org/3/library/weakref.html#module-weakref" title="(in Python v3.6)"><code class="xref py py-mod docutils literal"><span class="pre">weakref</span></code></a> module for a detailed
explanation of weak reference behavior.</p>
</dd></dl>

<dl class="method">
<dt id="aglyph.assembler.Assembler.__contains__">
<code class="descname">__contains__</code><span class="sig-paren">(</span><em>component_spec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/aglyph/assembler.html#Assembler.__contains__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.assembler.Assembler.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>Tell whether or not the component identified by
<em>component_spec</em> is defined in this assembler’s context.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>component_spec</strong> – used to determine the dotted name or component unique ID</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><code class="docutils literal"><span class="pre">True</span></code> if <em>component_spec</em> identifies a component that is
defined in this assembler’s context, else <code class="docutils literal"><span class="pre">False</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Any <em>component_spec</em> for which this method returns <code class="docutils literal"><span class="pre">True</span></code>
can be assembled by this assembler.</p>
<p class="last">Accordingly, this method will return <code class="docutils literal"><span class="pre">False</span></code> if
<em>component_spec</em> actually identifies a
<a class="reference internal" href="aglyph.component.html#aglyph.component.Template" title="aglyph.component.Template"><code class="xref py py-class docutils literal"><span class="pre">aglyph.component.Template</span></code></a> defined in this
assembler’s context.</p>
</div>
</dd></dl>

</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="aglyph.component.html" class="btn btn-neutral float-right" title="aglyph.component — Defining components and their dependencies" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="aglyph.html" class="btn btn-neutral" title="aglyph — Dependency Injection for Python" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006, 2011, 2013-2018 Matthew Zipay.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>