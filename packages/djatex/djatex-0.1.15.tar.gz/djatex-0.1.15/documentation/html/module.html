
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The djatex module &#8212; djaTeX 0.1.15 documentation</title>
    
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="djaTeX Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="djaTeX Documentation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">djaTeX 0.1.15 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">djaTeX Documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/module.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-djatex-module">
<h1>The djatex module<a class="headerlink" href="#the-djatex-module" title="Permalink to this headline">¶</a></h1>
<p>The module defines a class, LaTeXFile, and a shortcut function intended to be
called from a django view to render a LaTeX template as an attached PDF file.</p>
<span class="target" id="module-djatex"></span><dl class="class">
<dt id="djatex.LaTeXFile">
<em class="property">class </em><code class="descclassname">djatex.</code><code class="descname">LaTeXFile</code><span class="sig-paren">(</span><em>latex_source</em>, <em>bibtex_source=None</em>, <em>home_dir=None</em>, <em>build_dir=None</em>, <em>env=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djatex.LaTeXFile" title="Permalink to this definition">¶</a></dt>
<dd><p>An object which holds LaTeX and, optionally, BibTeX source strings.  Its
compile method creates a byte sequence containing a pdf rendering of the
LaTeX source, as well as strings containing the xelatex and bibtex logs.
These are generated by running xelatex and bibtex in a temporary directory
which is removed once the results are copied into the LaTeXFile object.  If
the home_dir argument is not None it should be an absolute path to a
directory containing auxiliary files needed for compilation, such as inputs,
images or font .fd files.  These will be symlinked into the temporary
directory before LaTeX is run.</p>
</dd></dl>

<dl class="function">
<dt id="djatex.render_latex">
<code class="descclassname">djatex.</code><code class="descname">render_latex</code><span class="sig-paren">(</span><em>request</em>, <em>filename</em>, <em>template_name</em>, <em>error_template_name=None</em>, <em>bib_template_name=None</em>, <em>home_dir=None</em>, <em>build_dir=None</em>, <em>env=None</em>, <em>context=None</em><span class="sig-paren">)</span><a class="headerlink" href="#djatex.render_latex" title="Permalink to this definition">¶</a></dt>
<dd><p>This shortcut function accepts a LaTeX template file and returns an HttpResponse.
If the LaTeX compiles without error, the response will have content_type
application/pdf and the content data will be the PDF rendering of the LaTeX source.
The filename argument is the name of the PDF file.</p>
<p>If the optional bib_template_name is provided then the LaTeX will be compiled with
the usual xelatex bibtex xelatex xelatex drill.  Otherwise, xelatex will be run
once and, if the output specifies undefined references, a second time.</p>
<p>If the optional home_dir argument is supplied it should be an absolute path to
a directory containing any files which are required to compile the LaTeX template.
These will be symlinked into the temporary compilation directory before running
LaTeX.</p>
<p>If there are errors then the response returned by this function will be a
Server Error if no error_template_name is provided.  If an
error_template_name is provided then that template will be rendered with a
context dictionary having three keys.  The first, named ‘stage’ has value
either ‘latex’ or ‘bibtex’ and specifies which TeX executable failed.  The
other two, ‘output’ and ‘source’ contain the stdout of the TeX executable
and the input LaTeX or BibTex.  The values are lists of strings, to enable
the error template to display the results with the same line breaks,
possibly including line numbers.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="index.html" title="djaTeX Documentation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">djaTeX 0.1.15 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Marc Culler.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
  </body>
</html>