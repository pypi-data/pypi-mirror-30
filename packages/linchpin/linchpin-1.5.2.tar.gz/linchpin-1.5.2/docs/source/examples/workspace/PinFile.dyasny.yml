---
ovirtush:
  topology:
    topology_name: "ovirtush" # topology name
    resource_groups:
      - resource_group_name: "ovirt_network"
        resource_group_type: "libvirt"
        resource_definitions:
          - name: ovirt_net
            role: libvirt_network
            uri: qemu:///system
            ip: 192.168.0.1
            dhcp_start: 192.168.0.101
            dhcp_end: 192.168.0.199
          - name: storage_net
            role: libvirt_network
            uri: qemu:///system
            ip: 192.168.1.1
            dhcp_start: 192.168.1.101
            dhcp_end: 192.168.1.199
          - name: engine
            role: libvirt_node
            uri: qemu:///system
            image_src: file:///var/lib/libvirt/images/linchpin/CentOS-7-x86_64.qcow2.xz
            count: 1
            memory: 2048
            vcpus: 2
            networks:
              - name: ovirt_net
          - name: host
            role: libvirt_node
            uri: qemu:///system
            image_src: file:///var/lib/libvirt/images/linchpin/CentOS-7-x86_64.qcow2.xz
            count: 2
            memory: 2048
            vcpus: 2
            networks:
              - name: ovirt_net
              - name: storage_net
          - name: ceph
            role: libvirt_node
            uri: qemu:///system
            image_src: file:///var/lib/libvirt/images/linchpin/CentOS-7-x86_64.qcow2.xz
            count: 3
            memory: 2048
            vcpus: 2
            networks:
              - name: ovirt_net
              - name: storage_net
            additional_storage: 20G
          - name: san
            role: libvirt_node
            uri: qemu:///system
            image_src: file:///var/lib/libvirt/images/linchpin/CentOS-7-x86_64.qcow2.xz
            count: 1
            memory: 2048
            vcpus: 2
            networks:
              - name: ovirt_net
              - name: storage_net
            additional_storage: 80G

  layout:
    inventory_layout:
      vars:
        hostname: __IP__
      hosts:
        engine:
          count: 1
          host_groups:
            - engine
            - ovirt
        host:
          count: 2
          host_groups:
            - ovirt
            - ovirt_hosts
        ceph:
          count: 3
          host_groups:
            - ceph
            - ovirt
        san:
          count: 1
          host_groups:
            - ovirt
