syntax = "proto3";

option objc_class_prefix = "VAKSANA";

import "vaksana.proto";

package redisclient;

service RedisC {
    // To confirm is the service is up
    rpc IsActive(vaksana.Void) returns (vaksana.Void) {}
    rpc Cleanup(Module) returns (vaksana.ErrCode) {}
    rpc SaveCredentials (vaksana.Credentials) returns (vaksana.ErrCode) {}


    rpc Register(Module) returns (vaksana.ErrCode) {}

    rpc Set (KeyVal) returns (vaksana.ErrCode) {}
    rpc Get (Key) returns (KeyVal) {}
    rpc Delete (Key) returns (vaksana.ErrCode) {}
}

message Server {
    string hostname = 1;
    int32 port = 2;
}

message Module {
    string collection = 1;
}

message Key {
    Module module = 1;
    string key = 2;
    int32 ttl = 3;
}

message Val {
    string val = 1;
}

message KeyVal {
    Key key = 1;
    Val val = 2;
}
