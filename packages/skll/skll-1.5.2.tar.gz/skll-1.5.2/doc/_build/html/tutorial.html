

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial &mdash; SciKit-Learn Laboratory 1.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="SciKit-Learn Laboratory 1.3 documentation" href="index.html"/>
        <link rel="next" title="Running Experiments" href="run_experiment.html"/>
        <link rel="prev" title="Installation" href="getting_started.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> SciKit-Learn Laboratory
          

          
          </a>

          
            
            
              <div class="version">
                1.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html#license">License</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#workflow">Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#titanic-example">Titanic Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-your-data-into-the-correct-format">Get your data into the correct format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-a-configuration-file-for-the-experiment">Create a configuration file for the experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-your-configuration-file-through-run-experiment">Running your configuration file through <code class="docutils literal"><span class="pre">run_experiment</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#examine-the-results">Examine the results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-your-own-experiments">Running your own experiments</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Get your data into the correct format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supported-formats">Supported formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-sparse-files">Creating sparse files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#training-and-testing-directories">Training and testing directories</a></li>
<li class="toctree-l4"><a class="reference internal" href="#single-file-training-and-testing-sets">Single-file training and testing sets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-configuration-file">Creating a configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Running your configuration file through <code class="docutils literal"><span class="pre">run_experiment</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run_experiment.html">Running Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">Utility Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SciKit-Learn Laboratory</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>Before doing anything below, you’ll want to <a class="reference internal" href="getting_started.html#install"><span class="std std-ref">install SKLL</span></a>.</p>
<div class="section" id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h2>
<p>In general, there are four steps to using SKLL:</p>
<ol class="arabic simple">
<li>Get some data in a <a class="reference internal" href="run_experiment.html#file-formats"><span class="std std-ref">SKLL-compatible format</span></a>.</li>
<li>Create a small <a class="reference internal" href="run_experiment.html#create-config"><span class="std std-ref">configuration file</span></a> describing the
machine learning experiment you would like to run.</li>
<li>Run that configuration file with <a class="reference internal" href="run_experiment.html#run-experiment"><span class="std std-ref">run_experiment</span></a>.</li>
<li>Examine results</li>
</ol>
</div>
<div class="section" id="titanic-example">
<h2>Titanic Example<a class="headerlink" href="#titanic-example" title="Permalink to this headline">¶</a></h2>
<p>Let’s see how we can apply the basic workflow above to a simple example using
the <a class="reference external" href="http://www.kaggle.com/c/titanic-gettingStarted/">Titantic: Machine Learning from Disaster</a>
data from <a class="reference external" href="http://www.kaggle.com">Kaggle</a>.</p>
<div class="section" id="get-your-data-into-the-correct-format">
<h3>Get your data into the correct format<a class="headerlink" href="#get-your-data-into-the-correct-format" title="Permalink to this headline">¶</a></h3>
<p>The first step to getting the Titanic data is logging into Kaggle and
downloading <a class="reference external" href="http://www.kaggle.com/c/titanic-gettingStarted/download/train.csv">train.csv</a>
and <a class="reference external" href="http://www.kaggle.com/c/titanic-gettingStarted/download/test.csv">test.csv</a>.
Once you have those files, you’ll also want to grab the
<a class="reference external" href="https://github.com/EducationalTestingService/skll/tree/stable/examples">examples folder</a>
on our GitHub page and put <code class="docutils literal"><span class="pre">train.csv</span></code> and <code class="docutils literal"><span class="pre">test.csv</span></code> in <code class="docutils literal"><span class="pre">examples</span></code>.</p>
<p>The provided script, <a class="reference download internal" href="_downloads/make_titanic_example_data.py" download=""><code class="xref download docutils literal"><span class="pre">make_titanic_example_data.py</span></code></a>,
will split the training and test data files from Kaggle up into groups
of related features and store them in <code class="docutils literal"><span class="pre">dev</span></code>, <code class="docutils literal"><span class="pre">test</span></code>, <code class="docutils literal"><span class="pre">train</span></code>, and
<code class="docutils literal"><span class="pre">train+dev</span></code> subdirectories.  The development set that gets created by the
script is 20% of the data that was in the original training set, and <code class="docutils literal"><span class="pre">train</span></code>
contains the other 80%.</p>
</div>
<div class="section" id="create-a-configuration-file-for-the-experiment">
<h3>Create a configuration file for the experiment<a class="headerlink" href="#create-a-configuration-file-for-the-experiment" title="Permalink to this headline">¶</a></h3>
<p>For this tutorial, we will refer to an “experiment” as having a single data set
split into training and testing portions.  As part of each
experiment, we can train and test several models, either simultaneously or
sequentially, depending whether we’re using
<a class="reference external" href="https://github.com/EducationalTestingService/gridmap">GridMap</a> or not.
This will be described in more detail later on, when we are ready to run our
experiment.</p>
<p>You can consult the <a class="reference internal" href="run_experiment.html#learners"><span class="std std-ref">full list of learners currently available</span></a>
in SKLL to get an idea for the things you can do.  As part of this tutorial, we
will use the following classifiers:</p>
<ul class="simple">
<li>Decision Tree</li>
<li>Multinomial Naïve Bayes</li>
<li>Random Forest</li>
<li>Support Vector Machine</li>
</ul>
<div class="highlight-ini" id="titanic-config"><div class="highlight"><pre><span></span><span class="k">[General]</span>
<span class="na">experiment_name</span> <span class="o">=</span> <span class="s">Titanic_Evaluate_Tuned</span>
<span class="na">task</span> <span class="o">=</span> <span class="s">evaluate</span>

<span class="k">[Input]</span>
<span class="c1"># this could also be an absolute path instead (and must be if you&#39;re not</span>
<span class="c1"># running things in local mode)</span>
<span class="na">train_directory</span> <span class="o">=</span> <span class="s">train</span>
<span class="na">test_directory</span> <span class="o">=</span> <span class="s">dev</span>
<span class="na">featuresets</span> <span class="o">=</span> <span class="s">[[&quot;family.csv&quot;, &quot;misc.csv&quot;, &quot;socioeconomic.csv&quot;, &quot;vitals.csv&quot;]]</span>
<span class="na">learners</span> <span class="o">=</span> <span class="s">[&quot;RandomForestClassifier&quot;, &quot;DecisionTreeClassifier&quot;, &quot;SVC&quot;, &quot;MultinomialNB&quot;]</span>
<span class="na">label_col</span> <span class="o">=</span> <span class="s">Survived</span>
<span class="na">id_col</span> <span class="o">=</span> <span class="s">PassengerId</span>

<span class="k">[Tuning]</span>
<span class="na">grid_search</span> <span class="o">=</span> <span class="s">true</span>
<span class="na">objectives</span> <span class="o">=</span> <span class="s">[&#39;accuracy&#39;]</span>

<span class="k">[Output]</span>
<span class="c1"># again, these can be absolute paths</span>
<span class="na">metrics</span> <span class="o">=</span> <span class="s">[&#39;roc_auc&#39;]</span>
<span class="na">log</span> <span class="o">=</span> <span class="s">output</span>
<span class="na">results</span> <span class="o">=</span> <span class="s">output</span>
<span class="na">predictions</span> <span class="o">=</span> <span class="s">output</span>
<span class="na">models</span> <span class="o">=</span> <span class="s">output</span>
</pre></div>
</div>
<p>Let’s take a look at the options specified in <code class="docutils literal"><span class="pre">titanic/evaluate_tuned.cfg</span></code>.
Here, we are only going to train a model and evaluate its performance on the
development set, because in the <a class="reference internal" href="run_experiment.html#general"><span class="std std-ref">General</span></a> section, <a class="reference internal" href="run_experiment.html#task"><span class="std std-ref">task</span></a> is set to
<a class="reference internal" href="run_experiment.html#evaluate"><span class="std std-ref">evaluate</span></a>.  We will explore the other options for <a class="reference internal" href="run_experiment.html#task"><span class="std std-ref">task</span></a>
later.</p>
<p>In the <a class="reference internal" href="run_experiment.html#input"><span class="std std-ref">Input</span></a> section, we have specified relative paths to the training
and testing directories via the <a class="reference internal" href="run_experiment.html#train-directory"><span class="std std-ref">train_directory</span></a> and
<a class="reference internal" href="run_experiment.html#test-directory"><span class="std std-ref">test_directory</span></a> settings respectively.
<a class="reference internal" href="run_experiment.html#featuresets"><span class="std std-ref">featuresets</span></a> indicates the name of both the training and
testing files.  <a class="reference internal" href="run_experiment.html#learners"><span class="std std-ref">learners</span></a> must always be specified in between <code class="docutils literal"><span class="pre">[</span></code> <code class="docutils literal"><span class="pre">]</span></code>
brackets, even if you only want to use one learner.  This is similar to the
<a class="reference internal" href="run_experiment.html#featuresets"><span class="std std-ref">featuresets</span></a> option, which requires two sets of brackets,
since multiple sets of different-yet-related features can be provided.  We will
keep our examples simple, however, and only use one set of features per
experiment. The <a class="reference internal" href="run_experiment.html#label-col"><span class="std std-ref">label_col</span></a> and <a class="reference internal" href="run_experiment.html#id-col"><span class="std std-ref">id_col</span></a>
settings specify the columns in the CSV files that specify the class labels and
instances IDs for each example.</p>
<p>The <a class="reference internal" href="run_experiment.html#tuning"><span class="std std-ref">Tuning</span></a> section defines how we want our model to be tuned.  Setting
<a class="reference internal" href="run_experiment.html#grid-search"><span class="std std-ref">grid_search</span></a> to <code class="docutils literal"><span class="pre">True</span></code> here employs scikit-learn’s
<a class="reference external" href="http://scikit-learn.org/stable/modules/generated/sklearn.grid_search.GridSearchCV.html#sklearn.grid_search.GridSearchCV">GridSearchCV</a>
class, which is an implementation of the
<a class="reference external" href="http://en.wikipedia.org/wiki/Hyperparameter_optimization#Grid_search">standard, brute-force approach to hyperparameter optimization</a>.</p>
<p><a class="reference internal" href="run_experiment.html#objectives"><span class="std std-ref">objectives</span></a> refers to the desired objective functions; here,
<code class="docutils literal"><span class="pre">accuracy</span></code> will optimize for overall accuracy.  You can see a list of all the
available objective functions <a class="reference internal" href="run_experiment.html#objectives"><span class="std std-ref">here</span></a>.</p>
<p>In the <a class="reference internal" href="run_experiment.html#output"><span class="std std-ref">Output</span></a> section, we first define the additional evaluation
metrics we want to compute in addition to the tuning objective via the
<a class="reference internal" href="run_experiment.html#metrics"><span class="std std-ref">metrics</span></a> option. The other options are directories
where you’d like all of the relevant output from your experiment to go.
<a class="reference internal" href="run_experiment.html#results"><span class="std std-ref">results</span></a> refers to the results of the experiment in both
human-readable and JSON forms.  <a class="reference internal" href="run_experiment.html#log"><span class="std std-ref">log</span></a> specifies where to put log
files containing any status, warning, or error messages generated during
model training and evaluation.  <a class="reference internal" href="run_experiment.html#predictions"><span class="std std-ref">predictions</span></a> refers to
where to store the individual predictions generated for the test set.
<a class="reference internal" href="run_experiment.html#models"><span class="std std-ref">models</span></a> is for specifying a directory to serialize the trained
models.</p>
</div>
<div class="section" id="running-your-configuration-file-through-run-experiment">
<h3>Running your configuration file through <a class="reference internal" href="run_experiment.html#run-experiment"><span class="std std-ref">run_experiment</span></a><a class="headerlink" href="#running-your-configuration-file-through-run-experiment" title="Permalink to this headline">¶</a></h3>
<p>Getting your experiment running is the simplest part of using SKLL, you just
need to type the following into a terminal:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ run_experiment titanic/evaluate_tuned.cfg
</pre></div>
</div>
<p>That should produce output like:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">381</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Task</span><span class="p">:</span> <span class="n">evaluate</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">381</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Training</span> <span class="n">on</span> <span class="n">train</span><span class="p">,</span> <span class="n">Test</span> <span class="n">on</span> <span class="n">dev</span><span class="p">,</span> <span class="n">feature</span> <span class="nb">set</span> <span class="p">[</span><span class="s1">&#39;family.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;misc.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;socioeconomic.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;vitals.csv&#39;</span><span class="p">]</span> <span class="o">...</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">family</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">train</span><span class="o">/</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">family</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="n">Loading</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">nmadnani</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">skll</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">titanic</span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv</span><span class="o">...</span>           <span class="n">done</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">515</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Featurizing</span> <span class="ow">and</span> <span class="n">training</span> <span class="n">new</span> <span class="n">RandomForestClassifier</span> <span class="n">model</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">17</span><span class="p">,</span><span class="mi">515</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">WARNING</span> <span class="o">-</span> <span class="n">Training</span> <span class="n">data</span> <span class="n">will</span> <span class="n">be</span> <span class="n">shuffled</span> <span class="n">to</span> <span class="n">randomize</span> <span class="n">grid</span> <span class="n">search</span> <span class="n">folds</span><span class="o">.</span>  <span class="n">Shuffling</span> <span class="n">may</span> <span class="k">yield</span> <span class="n">different</span> <span class="n">results</span> <span class="n">compared</span> <span class="n">to</span> <span class="n">scikit</span><span class="o">-</span><span class="n">learn</span><span class="o">.</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span><span class="mi">650</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Best</span> <span class="n">accuracy</span> <span class="n">grid</span> <span class="n">search</span> <span class="n">score</span><span class="p">:</span> <span class="mf">0.809</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span><span class="mi">651</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Hyperparameters</span><span class="p">:</span> <span class="n">bootstrap</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="n">class_weight</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="n">criterion</span><span class="p">:</span> <span class="n">gini</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="n">max_features</span><span class="p">:</span> <span class="n">auto</span><span class="p">,</span> <span class="n">max_leaf_nodes</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_impurity_decrease</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">min_impurity_split</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="n">min_samples_leaf</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_samples_split</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="n">min_weight_fraction_leaf</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">n_estimators</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="n">n_jobs</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oob_score</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> <span class="n">random_state</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span> <span class="n">verbose</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="n">warm_start</span><span class="p">:</span> <span class="kc">False</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">07</span> <span class="mi">11</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">21</span><span class="p">,</span><span class="mi">651</span> <span class="o">-</span> <span class="n">Titanic_Evaluate_Tuned_family</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">misc</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">socioeconomic</span><span class="o">.</span><span class="n">csv</span><span class="o">+</span><span class="n">vitals</span><span class="o">.</span><span class="n">csv_RandomForestClassifier</span> <span class="o">-</span> <span class="n">INFO</span> <span class="o">-</span> <span class="n">Evaluating</span> <span class="n">predictions</span>
</pre></div>
</div>
<p>We could squelch the warnings about shuffling by setting
<a class="reference internal" href="run_experiment.html#shuffle"><span class="std std-ref">shuffle</span></a> to <code class="docutils literal"><span class="pre">True</span></code> in the <a class="reference internal" href="run_experiment.html#input"><span class="std std-ref">Input</span></a> section.</p>
<p>The reason we see the loading messages repeated is that we are running the
different learners sequentially, whereas SKLL is designed to take advantage
of a cluster to execute everything in parallel via GridMap.</p>
</div>
<div class="section" id="examine-the-results">
<h3>Examine the results<a class="headerlink" href="#examine-the-results" title="Permalink to this headline">¶</a></h3>
<p>As a result of running our experiment, there will be a whole host of files in
our <a class="reference internal" href="run_experiment.html#results"><span class="std std-ref">results</span></a> directory.  They can be broken down into three
types of files:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">.results</span></code> files, which contain a human-readable summary of the
experiment, complete with confusion matrix.</li>
<li><code class="docutils literal"><span class="pre">.results.json</span></code> files, which contain all of the same information as the
<code class="docutils literal"><span class="pre">.results</span></code> files, but in a format more well-suited to automated
processing.</li>
<li>A summary <code class="docutils literal"><span class="pre">.tsv</span></code> file, which contains all of the information in all of
the <code class="docutils literal"><span class="pre">.results.json</span></code> files with one line per file.  This is very nice if
you’re trying many different learners and want to compare their performance.
If you do additional experiments later (with a different config file), but
would like one giant summary file, you can use the <a class="reference internal" href="utilities.html#summarize-results"><span class="std std-ref">summarize_results</span></a>
command.</li>
</ol>
<p>An example of a human-readable results file for our Titanic config file is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Experiment</span> <span class="n">Name</span><span class="p">:</span> <span class="n">Titanic_Evaluate_Tuned</span>
<span class="n">SKLL</span> <span class="n">Version</span><span class="p">:</span> <span class="mf">1.5</span>
<span class="n">Training</span> <span class="n">Set</span><span class="p">:</span> <span class="n">train</span>
<span class="n">Training</span> <span class="n">Set</span> <span class="n">Size</span><span class="p">:</span> <span class="mi">712</span>
<span class="n">Test</span> <span class="n">Set</span><span class="p">:</span> <span class="n">dev</span>
<span class="n">Test</span> <span class="n">Set</span> <span class="n">Size</span><span class="p">:</span> <span class="mi">179</span>
<span class="n">Shuffle</span><span class="p">:</span> <span class="kc">False</span>
<span class="n">Feature</span> <span class="n">Set</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;family.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;misc.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;socioeconomic.csv&quot;</span><span class="p">,</span> <span class="s2">&quot;vitals.csv&quot;</span><span class="p">]</span>
<span class="n">Learner</span><span class="p">:</span> <span class="n">RandomForestClassifier</span>
<span class="n">Task</span><span class="p">:</span> <span class="n">evaluate</span>
<span class="n">Feature</span> <span class="n">Scaling</span><span class="p">:</span> <span class="n">none</span>
<span class="n">Grid</span> <span class="n">Search</span><span class="p">:</span> <span class="kc">True</span>
<span class="n">Grid</span> <span class="n">Search</span> <span class="n">Folds</span><span class="p">:</span> <span class="mi">3</span>
<span class="n">Grid</span> <span class="n">Objective</span> <span class="n">Function</span><span class="p">:</span> <span class="n">accuracy</span>
<span class="n">Additional</span> <span class="n">Evaluation</span> <span class="n">Metrics</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;roc_auc&#39;</span><span class="p">]</span>
<span class="n">Scikit</span><span class="o">-</span><span class="n">learn</span> <span class="n">Version</span><span class="p">:</span> <span class="mf">0.19</span><span class="o">.</span><span class="mi">1</span>
<span class="n">Start</span> <span class="n">Timestamp</span><span class="p">:</span> <span class="mi">07</span> <span class="n">Dec</span> <span class="mi">2017</span> <span class="mi">11</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mf">04.911657</span>
<span class="n">End</span> <span class="n">Timestamp</span><span class="p">:</span> <span class="mi">07</span> <span class="n">Dec</span> <span class="mi">2017</span> <span class="mi">11</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mf">09.118036</span>
<span class="n">Total</span> <span class="n">Time</span><span class="p">:</span> <span class="mi">0</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">04.206379</span>


<span class="n">Fold</span><span class="p">:</span>
<span class="n">Model</span> <span class="n">Parameters</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;bootstrap&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> <span class="s2">&quot;class_weight&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s2">&quot;criterion&quot;</span><span class="p">:</span> <span class="s2">&quot;gini&quot;</span><span class="p">,</span> <span class="s2">&quot;max_depth&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;max_features&quot;</span><span class="p">:</span> <span class="s2">&quot;auto&quot;</span><span class="p">,</span> <span class="s2">&quot;max_leaf_nodes&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s2">&quot;min_impurity_decrease&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;min_impurity_split&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span> <span class="s2">&quot;min_samples_leaf&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;min_samples_split&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;min_weight_fraction_leaf&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span> <span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;oob_score&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span> <span class="s2">&quot;random_state&quot;</span><span class="p">:</span> <span class="mi">123456789</span><span class="p">,</span> <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;warm_start&quot;</span><span class="p">:</span> <span class="n">false</span><span class="p">}</span>
<span class="n">Grid</span> <span class="n">Objective</span> <span class="n">Score</span> <span class="p">(</span><span class="n">Train</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.8089887640449438</span>
<span class="o">+---+-------+------+-----------+--------+-----------+</span>
<span class="o">|</span>   <span class="o">|</span>     <span class="mi">0</span> <span class="o">|</span>    <span class="mi">1</span> <span class="o">|</span> <span class="n">Precision</span> <span class="o">|</span> <span class="n">Recall</span> <span class="o">|</span> <span class="n">F</span><span class="o">-</span><span class="n">measure</span> <span class="o">|</span>
<span class="o">+---+-------+------+-----------+--------+-----------+</span>
<span class="o">|</span> <span class="mi">0</span> <span class="o">|</span> <span class="p">[</span><span class="mi">101</span><span class="p">]</span> <span class="o">|</span>   <span class="mi">14</span> <span class="o">|</span>     <span class="mf">0.871</span> <span class="o">|</span>  <span class="mf">0.878</span> <span class="o">|</span>     <span class="mf">0.874</span> <span class="o">|</span>
<span class="o">+---+-------+------+-----------+--------+-----------+</span>
<span class="o">|</span> <span class="mi">1</span> <span class="o">|</span>    <span class="mi">15</span> <span class="o">|</span> <span class="p">[</span><span class="mi">49</span><span class="p">]</span> <span class="o">|</span>     <span class="mf">0.778</span> <span class="o">|</span>  <span class="mf">0.766</span> <span class="o">|</span>     <span class="mf">0.772</span> <span class="o">|</span>
<span class="o">+---+-------+------+-----------+--------+-----------+</span>
<span class="p">(</span><span class="n">row</span> <span class="o">=</span> <span class="n">reference</span><span class="p">;</span> <span class="n">column</span> <span class="o">=</span> <span class="n">predicted</span><span class="p">)</span>
<span class="n">Accuracy</span> <span class="o">=</span> <span class="mf">0.8379888268156425</span>
<span class="n">Objective</span> <span class="n">Function</span> <span class="n">Score</span> <span class="p">(</span><span class="n">Test</span><span class="p">)</span> <span class="o">=</span> <span class="mf">0.8379888268156425</span>

<span class="n">Additional</span> <span class="n">Evaluation</span> <span class="n">Metrics</span> <span class="p">(</span><span class="n">Test</span><span class="p">):</span>
 <span class="n">roc_auc</span> <span class="o">=</span> <span class="mf">0.8219429347826087</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="running-your-own-experiments">
<h2>Running your own experiments<a class="headerlink" href="#running-your-own-experiments" title="Permalink to this headline">¶</a></h2>
<p>Once you’ve gone through the Titanic example, you will hopefully be interested
in trying out SKLL with your own data.  To do so, you’ll still need to get your
data in an appropriate format first.</p>
<div class="section" id="id1">
<h3>Get your data into the correct format<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<div class="section" id="supported-formats">
<h4>Supported formats<a class="headerlink" href="#supported-formats" title="Permalink to this headline">¶</a></h4>
<p>SKLL can work with several common data formats, each of which are described
<a class="reference internal" href="run_experiment.html#file-formats"><span class="std std-ref">here</span></a>.</p>
<p>If you need to convert between any of the supported formats, because, for
example, you would like to create a single data file that will work both with
SKLL and Weka (or some other external tool), the <a class="reference internal" href="utilities.html#skll-convert"><span class="std std-ref">skll_convert</span></a> script can
help you out.  It is as easy as:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ skll_convert examples/titanic/train/family.csv examples/titanic/train/family.arff
</pre></div>
</div>
</div>
<div class="section" id="creating-sparse-files">
<h4>Creating sparse files<a class="headerlink" href="#creating-sparse-files" title="Permalink to this headline">¶</a></h4>
<p><a class="reference internal" href="utilities.html#skll-convert"><span class="std std-ref">skll_convert</span></a> can also create sparse data files in
<a class="reference internal" href="run_experiment.html#ndj"><span class="std std-ref">.jsonlines</span></a>, <a class="reference internal" href="run_experiment.html#libsvm"><span class="std std-ref">.libsvm</span></a>, <a class="reference internal" href="run_experiment.html#megam"><span class="std std-ref">.megam</span></a>, or
<a class="reference internal" href="run_experiment.html#ndj"><span class="std std-ref">.ndj</span></a> formats.  This is very useful for saving disk space and
memory when you have a large data set with mostly zero-valued features.</p>
</div>
<div class="section" id="training-and-testing-directories">
<h4>Training and testing directories<a class="headerlink" href="#training-and-testing-directories" title="Permalink to this headline">¶</a></h4>
<p>At minimum you will probably want to work with a training set and a testing
set.  If you have multiple feature files that you would like SKLL to join together
for you automatically, you will need to create feature files with the exact
same names and store them in training and testing directories.  You can
specifiy these directories in your config file using
<a class="reference internal" href="run_experiment.html#train-directory"><span class="std std-ref">train_directory</span></a> and
<a class="reference internal" href="run_experiment.html#test-directory"><span class="std std-ref">test_directory</span></a>.  The list of files is specified using
the <a class="reference internal" href="run_experiment.html#featuresets"><span class="std std-ref">featuresets</span></a> setting.</p>
</div>
<div class="section" id="single-file-training-and-testing-sets">
<h4>Single-file training and testing sets<a class="headerlink" href="#single-file-training-and-testing-sets" title="Permalink to this headline">¶</a></h4>
<p>If you’re conducting a simpler experiment, where you have a single training
file with all of your features and a similar single testing file, you should
use the <a class="reference internal" href="run_experiment.html#train-file"><span class="std std-ref">train_file</span></a> and <a class="reference internal" href="run_experiment.html#test-file"><span class="std std-ref">test_file</span></a>
settings in your config file.</p>
<p>If you would like to split an existing file up into a training set and a testing
set, you can employ the <a class="reference internal" href="utilities.html#filter-features"><span class="std std-ref">filter_features</span></a> tool to select instances you
would like to include in each file.</p>
</div>
</div>
<div class="section" id="creating-a-configuration-file">
<h3>Creating a configuration file<a class="headerlink" href="#creating-a-configuration-file" title="Permalink to this headline">¶</a></h3>
<p>Now that you’ve seen a <a class="reference internal" href="#titanic-config"><span class="std std-ref">basic configuration file</span></a>, you
should look at the extensive option available in our
<a class="reference internal" href="run_experiment.html#create-config"><span class="std std-ref">config file reference</span></a>.</p>
</div>
<div class="section" id="id2">
<h3>Running your configuration file through <a class="reference internal" href="run_experiment.html#run-experiment"><span class="std std-ref">run_experiment</span></a><a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>There are a few meta-options for experiments that are specified directly to the
<a class="reference internal" href="run_experiment.html#run-experiment"><span class="std std-ref">run_experiment</span></a> command rather than in a configuration
file.  For example, if you would like to run an ablation experiment, which
conducts repeated experiments using different combinations of the features in
your config, you should use the <a class="reference internal" href="run_experiment.html#cmdoption-run-experiment-a"><code class="xref std std-option docutils literal"><span class="pre">run_experiment</span> <span class="pre">--ablation</span></code></a> option. A
complete list of options is available <a class="reference internal" href="run_experiment.html#run-experiment"><span class="std std-ref">here</span></a>.</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="run_experiment.html" class="btn btn-neutral float-right" title="Running Experiments" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting_started.html" class="btn btn-neutral" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2017, Educational Testing Service.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>