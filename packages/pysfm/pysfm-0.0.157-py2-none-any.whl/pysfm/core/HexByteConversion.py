"""
HexByteConversion

Convert a byte string to it's hex representation for output or visa versa.

ByteToHex converts byte string "\xFF\xFE\x00\x01" to the string "FF FE 00 01"
HexToByte converts string "FF FE 00 01" to the byte string "\xFF\xFE\x00\x01"
"""

#-------------------------------------------------------------------------------

def ByteToHex( byteStr ):
    """
    Convert a byte string to it's hex string representation e.g. for output.
    """

    # Uses list comprehension which is a fractionally faster implementation than
    # the alternative, more readable, implementation below
    #
    #    hex = []
    #    for aChar in byteStr:
    #        hex.append( "%02X " % ord( aChar ) )
    #
    #    return ''.join( hex ).strip()

    return ''.join( [ "%02X " % ord( x ) for x in byteStr ] ).strip()

#-------------------------------------------------------------------------------

def HexToByte( hexStr ):
    """
    Convert a string hex byte values into a byte string. The Hex Byte values may
    or may not be space separated.
    """
    # The list comprehension implementation is fractionally slower in this case
    #
    #    hexStr = ''.join( hexStr.split(" ") )
    #    return ''.join( ["%c" % chr( int ( hexStr[i:i+2],16 ) ) \
    #                                   for i in range(0, len( hexStr ), 2) ] )

    bytes = []

    hexStr = ''.join( hexStr.split(" ") )

    for i in range(0, len(hexStr), 2):
        bytes.append( chr( int (hexStr[i:i+2], 16 ) ) )

    return ''.join( bytes )

#-------------------------------------------------------------------------------

if __name__ == '__main__':
    hexStr = "40 04 00 00 00 00 00 00 00 00 00 44 0A"
    hexStr2 = "4004000000000000000000440A"
    hexStrData = "00 0A 5F 70 36 00 00 00 00 06 75 8A 41 00 00 00 00 56 82 92 89 34 00 00 00 0B 82 8B 63 06 00 00 00 00 50 79 83 81 4D 40 50 69 85 84 A0 7C 00 00 00 63 89 82 78 28 00 00 00 55 80 9C 75 00 00 00 1A 8B 9D A1 8B 9A 42 00 00 00 1E 71 8B 97 92 53 00 00 00 00 5B 78 81 8B 8F 51 00 00 00 00 00 70 92 85 7F A4 00 3D 71 5D 2A 00 00 00 00 10 78 74 4A 00 00 00 00 70 7E 7A 7B 0D 00 00 00 03 6C 79 73 00 00 00 00 00 5D 81 8A 45 00 00 00 55 78 8B 8D 4B 00 00 00 66 62 86 6C 30 09 11 5C 84 80 87 50 01 00 00 3A 88 A6 89 90 73 00 00 00 00 52 70 76 84 84 11 00 00 00 18 57 66 6F 6A 75 0A 00 00 00 00 00 6F 9C 91 98 90 3B 60 67 64 08 00 00 00 00 1D 6C 88 4A 00 00 00 20 78 7E 84 86 19 00 00 00 19 69 82 6A 0D 00 00 00 00 86 94 78 36 00 00 00 4C 87 91 8F 3B 00 00 00 6D 89 88 6F 4E 3F 6C 8B 8F 8C 83 24 00 00 04 57 95 88 83 80 67 00 00 00 00 67 8B 84 88 68 00 00 00 00 33 70 79 71 7E 61 00 00 00 00 00 16 89 A6 99 87 85 18 3B 62 68 00 00 00 00 00 00 64 82 45 00 00 00 37 75 84 93 76 21 00 00 00 00 68 7A 76 19 00 00 00 11 7A 7A 72 05 00 00 00 5B 9A 96 92 48 00 00 00 72 98 8D 87 60 4C 69 7B 8F 9E 70 05 00 00 1E 72 89 8E 8F 7C 5B 00 00 00 06 78 84 96 88 62 00 00 00 00 30 61 62 6F 7A 5C 00 00 00 00 00 4C 8A 9C 8B 85 79 00 00 5E 61 00 00 00 00 00 00 5A 69 59 00 00 00 2F 75 79 78 7A 34 00 00 00 00 6B 7F 7B 20 00 00 00 2B 7E 87 65 00 00 00 00 85 8E 9B 8B 34 00 00 00 7C 8D A5 6E 4E 44 37 6C 86 86 7E 15 00 00 00 5B 82 A6 88 7E 4A 00 00 00 1C 74 86 91 86 6A 00 00 00 00 4D 54 54 6A 69 30 00 00 00 00 00 69 97 A0 99 8E 66 00 00 3F 61 07 00 00 00 00 2B 72 78 4F 00 00 00 36 7C 69 7C 74 37 00 00 00 0F 74 8E 6E 34 00 00 00 2A 7B 7D 5D 00 00 00 20 7E 89 A7 8D 51 00 00 00 73 90 92 5F 2D 09 18 6F 7B 95 70 00 00 00 00 4B 8D 8A 7D 99 3E 00 00 00 2C 7C 81 91 85 32 00 00 00 12 61 69 48 6F 69 0D 00 00 00 00 12 83 8C A5 A1 8A 68 00 00 2B 6E 02 00 00 00 00 35 68 7C 41 00 00 00 42 66 68 71 69 34 00 00 00 2A 88 8A 68 3A 00 00 00 2B 6E 6F 37 00 00 00 1F 69 84 88 87 49 00 00 04 6D 97 84 4B 00 00 00 54 76 8F 74 00 00 00 00 4C 80 82 92 85 59 00 00 00 43 63 77 83 5C 00 00 00 00 37 82 78 7A 6F 62 00 00 00 00 00 3A 72 7D 9D 97 81 66 00 00 38 7A 0A 00 00 00 00 29 6A 6F 27 00 00 00 53 7A 86 85 65 25 00 00 00 4B 8D 8E 72 35 00 00 00 30 68 6D 3D 00 00 00 38 76 87 8B 92 41 00 00 12 78 88 7B 2A 00 00 00 45 8B 8D 55 00 00 00 00 49 7C 76 8F 8A 7D 15 00 00 45 71 7E 88 58 00 00 00 00 6A 7D 86 8D 81 4F 00 00 00 00 00 64 8A 83 9B 8E 80 43 00 00 4D 7C 17 00 00 00 00 2E 68 61 02 00 00 00 74 91 80 72 7F 23 00 00 00 5B 81 78 64 2B 00 00 00 4B 7F 86 4F 00 00 00 4D 81 8D 8B 80 20 00 00 33 7D 74 76 0C 00 00 00 1A 86 88 52 00 00 00 00 39 68 72 8A 84 5C 00 00 00 3D 82 7F 7B 2E 00 00 00 14 6E 87 89 96 76 17 00 00 00 00 1B 70 78 8E 95 8D 73 1B 00 00 69 6E 2C 00 00 00 00 33 5C 52 00 00 00 00 64 8D 6B 75 77 10 00 00 00 5C 80 7E 6E 0D 00 00 00 57 8D 99 59 00 00 23 63 77 77 94 7B 20 00 00 57 75 6A 5C 00 00 00 00 00 78 8E 45 00 00 00 00 44 6F 72 68 82 46 00 00 00 44 62 68 73 30 00 00 00 2B 77 85 7C 88 6D 00 00 00 00 00 44 6E 7F 85 86 8A 56 09 00 0A 6F 82 38 00 00 00 00 22 53 44 00 00 00 00 79 86 7B 8A 75 08 00 00 00 5E 90 84 69 2E 00 00 00 4A 95 93 5A 00 00 23 67 77 7F 83 74 2B 00 00 67 76 7A 60 00 00 00 00 00 74 90 25 00 00 00 00 55 76 65 71 64 3E 00 00 00 49 6D 76 6C 25 00 00 00 44 91 7B 7B 6E 61 06 00 00 00 00 4B 78 95 86 8B 79 56 00 00 2F 77 75 3C 00 00 00 00 29 57 43 00 00 00 00 73 91 81 7A 67 00 00 00 00 5E 9E 84 7B 38 00 00 00 4E 8C 6F 63 00 00 1B 55 73 7F 90 6B 11 00 1D 6C 8E 7B 59 00 00 00 00 00 6C 6C 17 00 00 00 00 77 7D 81 6E 70 4D 00 00 10 5A 92 7C 6D 1C 00 00 00 63 72 74 76 5D 67 00 00 00 00 08 6F 83 87 92 97 74 53 00 00 4E 7A 78 3B 00 00 00 00 4C 63 46 00 00 00 1B 65 79 79 78 71 00 00 00 00 70 97 95 78 2F 00 00 00 5C 68 83 68 1B 00 12 65 78 89 8E 59 00 00 07 8F 92 78 48 00 00 00 00 00 29 6A 22 00 00 00 00 80 8D 7A 7D 69 3F 00 00 32 8F 97 7D 6D 1F 00 00 00 6F 79 8C 6E 8C 74 00 00 00 00 3D 77 85 8F 9B 82 90 3B 00 00 5D 6E 7B 42 00 00 00 00 4F 71 6F 00 00 00 17 6D 7F 7F 8D 54 03 00 00 00 73 A6 94 70 45 00 00 00 4C 73 73 70 2E 00 00 5E 6D 9A 8F 51 00 00 00 74 98 7C 1B 00 00 00 00 00 00 4F 3D 00 00 00 00 71 99 90 95 7D 4B 00 00 46 8A 91 8F 78 33 00 00 05 7B 95 82 87 87 76 01 00 00 00 67 91 92 95 79 80 74 11 00 00 4D 7F 76 48 00 00 00 00 53 93 82 01 00 00 31 76 6D 26 72 61 00 00 00 00 69 9D 8F 84 41 00 00 00 5D 8E 7C 72 22 00 02 5F 87 9E 8D 3D 00 00 00 5B 87 60 00 00 00 00 00 00 00 4A 4D 00 00 00 00 75 92 A3 A6 81 46 00 00 45 76 9B 8C 85 29 00 00 0C 7F 89 95 9F 88 71 00 00 00 00 62 89 8C 8A 86 8D 5E 00 00 00 25 72 70 47 00 00 00 00 79 98 81 0B 00 00 3B 7C 9B 8E 6F 48 00 00 00 00 50 7C 8C 8B 5B 00 00 00 5D 82 8D 5F 00 00 00 6A 8E 9B 98 4C 00 00 00 57 7E 54 00 00 00 00 00 00 00 6A 51 00 00 00 00 5C 97 A8 9F 85 57 00 00 17 87 98 85 74 0E 00 00 0C 7A 87 7C 8A A1 4B 00 00 00 00 61 88 8B 7D 7D 74 55 00 00 00 00 63 73 2A 00 00 00 00 57 8B 80 0E 00 00 35 85 88 84 70 47 00 00 00 00 4F 85 82 8F 76 00 00 00 56 86 75 3D 00 00 00 73 96 9A 97 3A 00 00 00 3C 7E 54 00 00 00 00 00 00 00 5B 52 00 00 00 00 52 7C 8C 99 85 4B 00 00 28 7C 96 8B 6A 00 00 00 00 6B 78 7C 9A 78 08 00 00 00 00 6A 92 83 83 81 79 1B 00 00 00 00 5E 6E 02 00 00 00 00 5B 8A 6F 0F 00 00 39 75 7A 7D 72 6A 00 00 00 00 50 87 8D A7 78 00 00 00 50 7E 7A 3C 00 00 00 58 97 84 7C 22 00 00 00 3C 79 3D 00 00 00 00 00 00 00 59 6C 00 00 00 00 0F 62 95 8D 76 60 00 00 20 85 97 7A 4A 00 00 00 00 67 7C 84 7B 62 00 00 00 00 09 78 8A 96 92 87 69 05 00 00 00 00 27 5B 00 00 00 00 00 43 7C 7B 0D 00 00 31 85 86 8D 90 6F 0F 00 00 00 48 8D 9C 8B 85 00 00 00 51 7A 75 4A 00 00 00 42 72 8F 64 00 00 00 00 13 65 39 00 00 00 00 00 00 00 74 76 58 00 00 00 00 6A 85 90 82 60 04 00 2B 76 7C 96 41 00 00 00 00 71 8F 68 6B 55 00 00 00 00 32 8D 93 94 97 82 77 00 00 00 00 00 08 2D 00 00 00 00 00 37 83 6C 32 00 00 28 70 AB 99 8B 8A 16 00 00 00 6A 88 8D 95 6F 1B 00 00 4D 79 7E 5D 0D 00 00 15 7E 7C 62 00 00 00 00 05 6E 3E 00 00 00 00 00 00 0B 67 8B 7C 36 00 00 00 4A 97 86 94 53 00 00 37 81 92 7D 26 00 00 00 3C 7A 78 6E 51 57 00 00 00 00 6A 87 A5 91 90 90 6E 08 00 00 00 00 00 23 00 00 00 00 00 3F 77 70 29 00 00 10 71 8E 87 A7 80 2E 00 00 00 5C 87 87 89 7A 00 00 00 1D 75 80 63 00 00 00 24 83 8A 4E 00 00 00 00 00 7C 6E 08 00 00 00 00 00 34 8B 8B 96 5B 00 00 00 27 8F 98 8D 48 00 00 55 8D 8E 70 00 00 00 00 52 7A 79 5E 66 53 00 00 00 04 7A 9E 87 7A 90 8B 7C 00 00 00 00 00 00 23 00 00 00 00 00 44 77 7D 41 00 00 00 5C 7E 96 95 8B 0F 00 00 00 60 8D 8C 94 67 05 00 00 13 62 75 58 00 00 00 39 79 70 4C 00 00 00 00 00 57 80 45 00 00 00 00 00 78 87 9C 8A 47 00 00 00 0A 84 7F 7D 69 00 00 43 79 6E 3C 00 00 00 00 60 8C 79 7D 61 36 00 00 00 2A 80 85 8B 8E 98 A6 61 00 00 00 00 00 00 53 12 00 00 00 00 46 8B 91 5B 00 00 00 65 71 88 90 6A 00 00 00 00 72 95 9F 9E 85 00 00 00 00 66 72 4A 00 00 00 48 6D 82 4A 00 00 00 00 00 5A 8B 71 00 00 00 00 00 71 84 7E 7F 4C 00 00 00 00 78 98 78 6B 2A 09 4E 78 6E 03 00 00 00 00 59 8A 86 70 69 15 00 00 00 3C 80 93 77 8A 92 86 2F 00 00 00 00 00 00 54 32 00 00 00 00 2B 7C 7D 67 00 00 00 4B 78 86 80 6C 00 00 00 00 7C 98 A6 98 7A 1C 00 00 00 54 67 40 00 00 00 55 78 70 56 00 00 00 00 00 4C 80 86 00 00 00 00 0D 78 7D 78 8B 6C 00 00 00 00 72 91 88 75 4B 39 53 69 5E 00 00 00 00 00 71 92 7F 75 5E 00 00 00 00 3B 7B 81 87 8D 85 73 00 00 00 00 00 00 20 68 53 00 00 00 00 07 5F 7E 67 00 00 00 55 6A 74 92 6A 1A 00 00 0F 80 91 A1 9C 8A 43 00 00 00 56 71 3B 00 00 00 70 74 6F 54 00 00 00 00 00 3F 8A 80 1C 00 00 00 17 77 92 82 8C 86 05 00 00 00 48 86 89 77 66 2F 4D 6C 32 00 00 00 00 00 7E 97 97 7E 59 00 00 00 00 4E 74 77 7E 7E 8B 51 00 00 00 00 00 00 43 7C 56 00 00 00 00 00 65 71 70 00 00 00 66 73 6D 66 71 2D 00 00 15 7F 8D 8B 9A AB 60 00 00 00 5F 7E 7A 00 00 13 6C 84 8A 61 00 00 00 00 00 57 8E 91 55 00 00 00 00 7C 84 8D 84 73 29 00 00 00 00 7F 84 6F 51 24 40 51 00 00 00 00 00 16 85 90 87 88 4C 00 00 00 00 62 82 84 7A 82 66 13 00 00 00 00 00 00 4D 6E 5D 00 00 00 00 00 40 6A 5D 00 00 00 4C 84 5C 5D 72 3B 00 00 0B 74 82 88 8D 90 81 03 00 00 5D 9A 7B 39 00 3B 64 86 89 71 00 00 00 00 00 62 9A 95 75 00 00 00 00 62 8B 85 75 7E 00 00 00 00 00 41 84 69 55 29 37 2B 00 00 00 00 00 00 87 79 77 77 26 00 00 00 00 75 8E 78 88 69 46 00 00 00 00 00 00 00 4C 70 4F 00 00 00 00 00 46 7E 57 00 00 00 57 6E 72 68 6F 65 00 00 00 68 80 A0 8D 8F 86 2C 00 00 7A 8A 86 71 44 56 7B 8C 89 67 00 00 00 00 00 78 9C 95 87 17 00 00 00 49 77 86 90 70 00 00 00 00 00 25 74 7B 5E 35 54 0E 00 00 00 00 00 06 6A 77 6E 5E 04 00 00 00 36 96 92 7F 88 6F 2F 00 00 00 00 00 00 00 5A 72 5A 00 00 00 00 00 5D 6B 74 0D 00 00 43 73 6E 63 8C 43 00 00 00 52 84 7B 85 79 77 16 00 00 48 86 99 80 79 6F 78 82 79 55 00 00 00 00 14 8E 89 B1 94 06 00 00 00 61 78 9A 7D 7B 1C 00 00 00 00 00 62 80 6F 86 68 0A 00 00 00 00 00 03 77 7D 65 60 00 00 00 00 52 7A 7B 6F 86 86 1C 00 00 00 00 00 00 00 69 7F 6A 00 00 00 00 00 48 82 6D 36 00 00 34 6D 6A 82 7B 42 00 00 00 25 7D 7E 80 7E 6C 00 00 00 44 79 8D 9A 71 76 7B 88 79 6D 00 00 00 00 3C 86 A1 8A 83 13 00 00 00 5C A0 7E 8C 81 2D 00 00 00 00 00 6D 94 A1 8D 79 28 00 00 00 00 00 00 7C 82 82 3C 00 00 00 00 49 75 75 71 7C 67 2F 00 00 00 00 00 00 00 60 75 68 0C 00 00 00 00 58 7E 8D 58 00 00 3A 68 7C 7D 8A 24 00 00 00 47 92 7E 86 78 66 04 00 00 2E 7E 8D 97 87 85 7A 94 87 6F 00 00 00 00 5C 9E 96 9D 92 17 00 00 00 67 93 9D 88 8E 5D 00 00 00 00 00 4D 99 9C A5 75 32 00 00 00 00 00 09 60 79 74 39 00 00 00 00 42 6F 7C 79 6C 64 1B 00 00 00 00 00 00 06 64 76 75 1B 00 00 00 00 4F 7F 79 60 00 00 3B 77 79 7F 60 23 00 00 00 42 7C 8C 82 7C 6C 00 00 00 3F 88 84 97 8C 7D 8A 96 95 88 09 00 00 11 76 87 9B 90 75 23 00 00 00 54 8D 8C 85 94 65 00 00 00 00 00 1E 70 90 87 7E 4C 00 00 00 00 00 0D 6C 62 6C 14 00 00 00 00 18 78 80 82 90 68 10 00 00 00 00 00 00 05 61 79 68 20 00 00 00 00 53 7A 84 7C 1A 00 18 4F 71 80 66 0C 00 00 00 47 9E 93 88 80 5E 00 00 00 33 70 94 86 9D A6 98 8B 9A 76 0D 00 00 48 86 9F 8D 8F 8D 1B 00 00 00 4B 90 8B 82 80 7C 00 00 00 00 00 00 57 7F 88 71 47 00 00 00 00 00 03 66 70 6E 0D 00 00 00 00 3C 91 84 8E 82 70 03 00 00 00 00 00 00 10 6F 75 76 26 00 00 00 00 45 7E 8B 71 08 00 00 47 5C 7D 71 10 00 00 00 3F 98 92 9E 8A 7F 00 00 00 2A 7B 88 96 9F 9D 91 98 8A 8E 00 00 00 51 9E 9B 96 8A 7A 14 00 00 00 2A 88 85 85 94 78 0D 00 00 00 00 00 2B 62 8B 73 59 00 00 00 00 00 00 78 78 86 48 00 00 00 00 54 8E 99 89 86 60 00 00 00 00 00 00 00 2C 6C 82 6E 2E 00 00 00 00 4A 7C 8B 67 00 00 00 3C 6F 7D 7E 2C 00 00 00 20 87 8C 89 A1 85 18 00 00 29 76 8B 85 97 8D 94 88 96 74 00 00 00 54 85 9C 84 83 6F 0A 00 00 00 2B 7C 8F 9C 98 7F 21 00 00 00 00 00 48 51 7F 8E 6A 00 00 00 00 00 08 69 83 7B 4F 00 00 00 00 7A 8B 81 79 73 5A 00 00 00 00 00 00 00 3F 73 82 81 3D 00 00 00 00 4F 87 99 6F 0C 00 00 43 75 89 82 36 00 00 00 24 72 74 89 96 90 4B 00 00 17 82 8D 96 99 93 88 88 8B 61 00 00 00 45 95 9A 9A 8B 81 00 00 00 00 14 68 81 97 AA 89 24 00 00 00 00 41 72 73 85 83 7A 00 00 00 00 00 23 7A 79 72 56 00 00 00 06 82 80 74 63 72 57 00 00 00 00 00 00 00 3B 73 8B 6A 40 00 00 00 00 48 7B 87 6A 03 00 00 19 7B 99 8A 41 00 00 00 22 71 70 81 9C 79 66 00 00 00 44 8C 88 9B 8C 6B 6A 88 1E 00 00 00 45 7C A0 8D 8E 73 00 00 00 00 07 75 7C 8A 7F 82 0F 00 00 00 00 50 82 8B 8C 95 67 00 00 00 00 00 50 65 6C 7E 5F 00 00 00 00 7A 78 69 7F 6E 4F 00 00 00 00 00 39 00 29 6C 80 7F 45 00 00 00 00 35 87 86 63 00 00 00 11 73 88 7D 23 00 00 00 38 77 7F 89 82 80 5D 00 00 00 27 71 90 95 8E 79 79 65 0F 00 00 00 1C 97 8B 90 93 68 00 00 00 00 00 68 86 70 9C 7D 3A 00 00 00 00 65 80 7C 94 88 87 00 00 00 00 00 5A 7A 65 63 65 00 00 00 02 71 7E 75 7F 89 5E 00 00 00 00 00 76 00 10 65 89 86 4B 00 00 00 00 3E 90 88 60 00 00 00 0F 69 90 77 34 00 00 00 34 72 92 8E 87 7F 64 00 00 00 00 71 91 87 84 8B 76 6A 00 00 00 00 13 8A 90 95 8A 64 00 00 00 00 00 72 82 89 96 96 5C 00 00 00 02 67 77 8A 7F 95 80 0B 00 00 00 00 5C 7B 77 7D 5C 00 00 00 00 63 7B 67 7E 7B 5B 00 00 00 00 00 85 00 00 72 96 A0 5B 00 00 00 00 2F 77 89 61 00 00 00 1A 77 71 7A 42 00 00 00 4A 85 85 90 7D 8B 68 00 00 00 07 77 7F 8A 96 7F 86 56 00 00 00 00 00 77 91 7F 8A 6A 00 00 00 00 00 69 8E 94 87 93 60 00 00 00 10 79 7E 75 7D 85 7F 3E 00 00 00 00 5D 9E 91 7A 72 00 00 00 00 76 6B 76 75 7D 61 00 00 00 00 00"

    f = open('test_image.raw', 'w')

    data = HexToByte(hexStrData);
    print data;

    for x in data:
        f.write(x)

    f.close()

    print HexToByte(hexStr), HexToByte(hexStr2)