{% macro render_reader(reader, door) %}
<div class="col-sm-3 device_box">
    <div class="panel panel-default">
        <div class="panel-heading">
            <a href="#" data-toggle="modal" data-target="#modal_reader_info">
                <i class="fa fa-info-circle" data-placement="bottom" title="Click for reader info" id="reader_info_{{ reader.idreader }}"></i>
            </a>
            {{ reader.name }}
            <span class="{% if reader.status == "ACTIVE" %}led-green{% else %}led-red{% endif %} pull-right"></span></div>
        <div class="panel-body">
            <form method="post" action="{{ url_for('settings.settings') }}" name="reader_form_{{ reader.idreader }}">
                <div class="form-group">
                    <label for="reader_name_{{ reader.idreader }}">Reader Name</label>
                    <input type="text" class="form-control" name="reader_name_{{ reader.idreader }}" value="{{ reader.alt_name }}">
                </div>
                <div class="form-group">
                    <label for="reader_location_{{ reader.idreader }}">Location Name</label>
                    <input type="text" class="form-control" name="reader_location_{{ reader.idreader }}" value="{{ reader.location }}">
                </div>
                <div class="form-group">
                    <label for="reader_door_{{ reader.idreader }}">Associated Door</label>
                    <select class="select2-selection--single" name="reader_door_{{ reader.idreader }}" style="width: 100% !important;">
                        {% for item in door %}
                            <option value="{{ item.iddoor }}" {% if item.iddoor == reader.door_iddoor %} selected {% endif %}>{{ item.name }}-{{ item.alt_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group text-center">
                    <label for="reader_direction_{{ reader.idreader }}">Direction Type</label>
                    <input type="checkbox" name="reader_direction_{{ reader.idreader }}" data-toggle="toggle" data-size="small" data-off="Exit" data-on="Entry" data-width="100%" data-onstyle="info" data-offstyle="success" {% if reader.location_direction == 'ENTRY' %}checked{% endif %}>
                </div>
                 <div class="form-group text-center">
                    <label for="reader_enabled_{{ reader.idreader }}">Enable/Disable</label>
                    <input type="checkbox" name="reader_enabled_{{ reader.idreader }}" data-toggle="toggle" data-size="small" data-off="Disabled" data-on="Enabled" data-width="100%" data-onstyle="primary" data-offstyle="warning" {% if reader.enabled == True %}checked{% endif %}>
                </div>
                <div class="form-group text-center">
                    <button type="submit" class="btn btn-primary btn-xs" name="submit_reader_{{ reader.idreader }}" name="reader_submit_{{ reader.idreader }}">save</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endmacro %}







