{% macro render_door(door, relays) %}
<div class="col-sm-3 device_box">
    <div class="panel panel-default">
        <div class="panel-heading">{{ door.name }}</div>
        <div class="panel-body">
            <form method="post" action="{{ url_for('settings.settings') }}" name="door_form_{{ door.iddoor }}">
                <div class="form-group">
                    <label for="door_name_{{ door.iddoor }}">Door Name</label>
                    <input type="text" id="door_name_{{ door.iddoor }}" name="door_name_{{ door.iddoor }}" class="form-control" value="{{ door.alt_name }}">
                </div>
                <div class="form-group">
                    <label for="door_assoc_relays_{{ door.iddoor }}">Associated Relays</label>
                    <select id="door_assoc_relays_{{ door.iddoor }}" name="door_assoc_relays_{{ door.iddoor }}" class="select2-selection--multiple form-control" multiple="multiple" style="width: 100% !important;">
                        {% for relay in relays %}
                        <option value="{{ relay.idrelay }}" {% if relay.door_iddoor == door.iddoor %}selected{% endif %}>
                            {{ relay.position }} : {% if relay.type == 'SOLID_STATE' %}
                            Accessory
                            {% else %}
                            High Current
                        {% endif %}
                        </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="form-group text-center">
                    <button type="submit" class="btn btn-primary btn-xs" name="submit_door_{{ door.iddoor }}" name="submit_door_{{ door.iddoor }}">save</button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endmacro %}