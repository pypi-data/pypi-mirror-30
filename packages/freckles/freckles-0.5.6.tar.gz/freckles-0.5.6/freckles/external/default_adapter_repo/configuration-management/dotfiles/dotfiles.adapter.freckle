doc:
  help: |
    installs packages referenced in a dotfiles repository, then 'stows' the included dotfiles into the users' home

    A few (random) notes:

      - if you install a package via the npm package manager which was installed by freckles, nodejs won't be in the path automatically. You'll have to have something like those two lines in one of your shell rc files:

          if [ -s "/home/vagrant/.local/opt/nvm/nvm.sh" ]; then source "/home/vagrant/.local/opt/nvm/nvm.sh"; fi
          if [ -s "/home/vagrant/.local/opt/nvm/nvm.sh" ]; then nvm use node; fi

  short_help: installs packages, stows dotfiles

role-dependencies:
  - freckles-io.dotfiles
  - freckles-io.install-nix
  - freckles-io.install-conda
  - freckles-io.install-vagrant
  - freckles-io.python-dev
  - freckles-io.install-virtualbox
  - freckles-io.install-nodejs

available_vars:
  dotfiles_unstow:
    help: "Unstow all currently stowed configuration files/folders instead of stowing."
  dotfiles_no_stow:
    help: "Omit the 'stow' step from this run."
  dotfiles_no_package_install:
    help: "Don't install any packages in this run."
  dotfiles_no_folder_install:
    help: "Don't install any packages via the 'folder name' discovery method."

args:
  pkg_mgr:
    arg_name: pkg-mgr
    help: the package manager to use, currently supported 'auto', 'conda', 'nix'
    type: str
    multiple: false
    required: false
    metavar: "PKG_MGR"
    is_var: true
  unstow:
    help: unstow all currently stowed config files of this freckle
    required: false
    is_var: true
    is_flag: true
  no_stow:
    arg_name: no-stow
    help: prevent 'stowing' of config files
    required: false
    is_var: true
    is_flag: true
  no_package_install:
    arg_name: no-install
    help: "don't install any packages"
    required: false
    is_var: true
    is_flag: true
  no_folder_install:
    arg_name: no-folder-install
    help: "don't install any packages from (sub-)folder names"
    required: false
    is_var: true
    is_flag: true
