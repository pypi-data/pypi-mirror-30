

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; quanfima 0.1a1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="quanfima 0.1a1 documentation" href="index.html"/>
        <link rel="next" title="ChangeLog" href="change_log.html"/>
        <link rel="prev" title="Quickstart" href="quickstart.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> quanfima</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#analysis-of-fibrous-2d-data">Analysis of fibrous 2D data</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#analysis-of-3d-data-of-fibrous-material">Analysis of 3D data of fibrous material</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#estimation-of-p-values">Estimation of p-values</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#simulate-and-count-particles-in-3d-data">Simulate and count particles in 3D data</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#simulate-fibers-and-estimate-properties">Simulate fibers and estimate properties</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-quanfima.morphology">quanfima.morphology module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quanfima.simulation">quanfima.simulation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quanfima.utils">quanfima.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-quanfima.visualization">quanfima.visualization module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="change_log.html">ChangeLog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="change_log.html#version-0-1a1">Version 0.1a1</a></li>
<li class="toctree-l2"><a class="reference internal" href="change_log.html#version-0-1a2">Version 0.1a2</a></li>
<li class="toctree-l2"><a class="reference internal" href="change_log.html#version-0-1a3">Version 0.1a3</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">quanfima</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/quanfima.rst.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-quanfima.morphology">
<span id="quanfima-morphology-module"></span><h2>quanfima.morphology module<a class="headerlink" href="#module-quanfima.morphology" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="quanfima.morphology.calc_porosity">
<code class="descclassname">quanfima.morphology.</code><code class="descname">calc_porosity</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#calc_porosity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.calc_porosity" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes porosity.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the labeled 3D data.</dd>
</dl>
<dl class="docutils">
<dt>out <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of materials and corresponding porosity values.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.cast_ray">
<code class="descclassname">quanfima.morphology.</code><code class="descname">cast_ray</code><span class="sig-paren">(</span><em>theta</em>, <em>y0</em>, <em>x0</em>, <em>fiber_mask</em>, <em>ray_len=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#cast_ray"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.cast_ray" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a distance between two detected points at <cite>fiber_mask</cite>.</p>
<p>Casts a ray from the point (x0, y0) at <cite>fiber_mask</cite> under angle <cite>theta</cite> of maximum
length of <cite>ray_len</cite>. The ray is casted towards to opposite directions, thus two points
(x1,y1) and (x2,y2) are detected at opposite borders of fiber. Finally, the Euclidean
distance between these points is calculated and returned.</p>
<dl class="docutils">
<dt>theta <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the angle under which the ray is casted.</dd>
<dt>y0 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the y-axis component of the origin of ray emission.</dd>
<dt>x0 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the x-axis component of the origin of ray emission.</dd>
<dt>fiber_mask <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd>Indicates the binary array of fibers.</dd>
<dt>ray_len <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the maximum length of the ray.</dd>
</dl>
<dl class="docutils">
<dt>distance <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>The distance between (x1,y0) and (x2,y2) detected points.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_diameter_batches">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_diameter_batches</code><span class="sig-paren">(</span><em>name, output_dir, data, skel, lat_data, azth_data, border_gap, n_scan_angles=32, out_arr_names=['diameter'], make_output=True, slices_per_batch=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_diameter_batches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_diameter_batches" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes 3D diameter using GPU in batches and stores result in a npy file.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output npy file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D binary data.</dd>
<dt>skel <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the skeleton of the binary data.</dd>
<dt>lat_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing latitude / elevation angle at every point of
the skeleton in radians.</dd>
<dt>azth_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing azimuth angle at every point of the skeleton
in radians.</dd>
<dt>border_gap <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of overlapping slices along z-axis, usually it should be more or
equal to a half of size of the 3D local window.</dd>
<dt>n_scan_angles <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the number of scanning angles on a range [0, 360] degrees.</dd>
<dt>out_arr_names <span class="classifier-delimiter">:</span> <span class="classifier">array of str</span></dt>
<dd>Indicates the array of keys of the output dictionary.</dd>
<dt>make_output <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the estimated data should be stored.</dd>
<dt>slices_per_batch <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>The number of slices along z-axis in a batch.</dd>
</dl>
<dl class="docutils">
<dt>output_props <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of properties specifying the sample name, the algorithm name,
the number of processes, and the execution time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_diameter_gpu">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_diameter_gpu</code><span class="sig-paren">(</span><em>skel</em>, <em>data</em>, <em>lat_data</em>, <em>azth_data</em>, <em>n_scan_angles</em>, <em>max_iters=150</em>, <em>do_reshape=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_diameter_gpu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_diameter_gpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes 3D diameter at every point of a skeleton of data using GPU.</p>
<p>Estimates 3D diameter at every point of the skeleton <cite>skel</cite> extracted from the binary
data <cite>data</cite> with help of orientation information provided by <cite>lat_data</cite> and <cite>azth_data</cite>
arrays. The diameter is evaluated with a ray casting approach <cite>cast_ray</cite> adapted for
a 3D case.</p>
<dl class="docutils">
<dt>skel <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the skeleton of the binary data.</dd>
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D binary data.</dd>
<dt>lat_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing latitude / elevation angle at every point of
the skeleton in radians.</dd>
<dt>azth_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing azimuth angle at every point of the skeleton
in radians.</dd>
<dt>n_scan_angles <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the number of scanning angles on a range [0, 360] degrees.</dd>
<dt>max_iters <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the maximum length of a ray in each direction.</dd>
<dt>do_reshape <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the output array should be reshaped immediately after estimation.</dd>
</dl>
<dl class="docutils">
<dt>out <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of the 3D array of estimated diameter and the execution time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_diameter_single_run">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_diameter_single_run</code><span class="sig-paren">(</span><em>name</em>, <em>output_dir</em>, <em>data</em>, <em>skel</em>, <em>lat_data</em>, <em>azth_data</em>, <em>n_scan_angles=32</em>, <em>make_output=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_diameter_single_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_diameter_single_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes 3D diameter using GPU and stores result in a npy file.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output npy file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D binary data.</dd>
<dt>skel <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the skeleton of the binary data.</dd>
<dt>lat_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing latitude / elevation angle at every point of
the skeleton in radians.</dd>
<dt>azth_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing azimuth angle at every point of the skeleton
in radians.</dd>
<dt>n_scan_angles <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the number of scanning angles on a range [0, 360] degrees.</dd>
<dt>make_output <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the estimated data should be stored.</dd>
</dl>
<dl class="docutils">
<dt>output_props <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of properties specifying the sample name, the algorithm name,
the number of processes, and the execution time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_fiber_properties">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_fiber_properties</code><span class="sig-paren">(</span><em>fiber_mask</em>, <em>fiber_skel</em>, <em>paddding=25</em>, <em>window_radius=12</em>, <em>orient_type='tensor'</em>, <em>diameter_window_radius=12</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_fiber_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_fiber_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes orientation and diameter of fibers at every point of a skeleton.</p>
<p>Estimates orientation and diameter of fibers at every point of a skeleton. The orientation
is estimated using either tensor-based or PCA-based approach. The distance is evaluated
by scanning a mask of fibers in a speficied angular range.</p>
<dl class="docutils">
<dt>fiber_mask <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd>Indicates the binary data of fibers produced by the segmentation process.</dd>
<dt>fiber_skel <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd>Indicates the skeleton produced by thinning of the binary data of fibers.</dd>
<dt>paddding <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the amount of padding at the corners to prevent an estimation error.</dd>
<dt>window_radius <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the radius of the local window of orientation calculation, which leads to
patches of size (<a href="#id1"><span class="problematic" id="id2">`</span></a>window_radius`*2+1) x (<a href="#id3"><span class="problematic" id="id4">`</span></a>window_radius`*2+1).</dd>
<dt>orient_type <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the type of algorithm for orientation estimation (‘tensor’ or ‘pca’).</dd>
<dt>diameter_window_radius <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the radius of the local window of diameter estimation, which leads to
patches of size (<a href="#id5"><span class="problematic" id="id6">`</span></a>diameter_window_radius`*2+1) x (<a href="#id7"><span class="problematic" id="id8">`</span></a>diameter_window_radius`*2+1).</dd>
</dl>
<p>(clear_fiber_skel, fiber_skel, output_orientation_map, output_diameter_map,
orientation_vals, diameter_vals) : tuple of arrays</p>
<blockquote>
<div>The skeleton with removed intersections, the skeleton, the orientation map, the
diameter map, the arrays of orientation and diameter values.</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_fourier_orientation">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_fourier_orientation</code><span class="sig-paren">(</span><em>data</em>, <em>grid_shape=(2</em>, <em>2)</em>, <em>sigma=2.0</em>, <em>zoom=1.0</em>, <em>order=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_fourier_orientation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_fourier_orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes orientation at every block of the subdivided image.</p>
<p>Subdivides the image into the grid of blocks <cite>grid_shape</cite>, it computes
2D FFT for every block, then the real components are segmented by
the Otsu thresholding and the PCA-based approach calculates the orientation
of structures within each block.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>Indicates the grayscale 2D image.</dd>
<dt>grid_shape <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the number of blocks to subdivide the image.</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma value of the Gaussian filter to smooth the real part
of 2D Fourier spectrum.</dd>
<dt>zoom <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the upscaling factor of each block before applying 2D FFT.</dd>
<dt>order <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the order of interpolation used in the upscaling procedure.</dd>
</dl>
<dl class="docutils">
<dt>(orient_blocks, block_shape) <span class="classifier-delimiter">:</span> <span class="classifier">tuple of arrays</span></dt>
<dd>The 2D array of the orientation angle within each block,
the shape of a block.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_tensor">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_tensor</code><span class="sig-paren">(</span><em>name</em>, <em>skel</em>, <em>data</em>, <em>window_size</em>, <em>output_dir</em>, <em>sigma=0.025</em>, <em>make_output=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes 3D orientation at every point of a skeleton of data.</p>
<p>Estimates 3D orientation at every point of the skeleton <cite>skel</cite> extracted from the binary
data <cite>data</cite> within a 3D local window of size <cite>window_size</cite> using the tensor-based approach
with a Gaussian smoothing of <cite>sigma</cite>.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output npy file.</dd>
<dt>skel <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the skeleton of the binary data.</dd>
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D binary data.</dd>
<dt>window_size <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of the 3D local window.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
<dt>output_fmt <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the format of</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma value of the Gaussian filter.</dd>
<dt>make_output <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the estimated data should be stored.</dd>
</dl>
<dl class="docutils">
<dt>output_props <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of properties specifying the sample name, the algorithm name, the number
of processes, and the execution time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.estimate_tensor_parallel">
<code class="descclassname">quanfima.morphology.</code><code class="descname">estimate_tensor_parallel</code><span class="sig-paren">(</span><em>name</em>, <em>skel</em>, <em>data</em>, <em>window_size</em>, <em>output_dir</em>, <em>sigma=0.025</em>, <em>make_output=True</em>, <em>n_processes=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#estimate_tensor_parallel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.estimate_tensor_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes 3D orientation at every point of a skeleton of data in parallel processes.</p>
<p>Estimates 3D orientation at every point of the skeleton <cite>skel</cite> extracted from the binary
data <cite>data</cite> within a 3D local window of size <cite>window_size</cite> using the tensor-based approach
with a Gaussian smoothing of <cite>sigma</cite>. The orientation is estimated simultaneously at
<cite>n_processes</cite> parallel processes.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output npy file.</dd>
<dt>skel <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the skeleton of the binary data.</dd>
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D binary data.</dd>
<dt>window_size <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of the 3D local window.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma value of the Gaussian filter.</dd>
<dt>make_output <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the estimated data should be stored.</dd>
<dt>n_processes <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of the parallel processes.</dd>
</dl>
<dl class="docutils">
<dt>output_props <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of properties specifying the sample name, the algorithm name, the number
of processes, and the execution time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.execute_tensor">
<code class="descclassname">quanfima.morphology.</code><code class="descname">execute_tensor</code><span class="sig-paren">(</span><em>patch</em>, <em>sigma</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#execute_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.execute_tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the tensor-based approach for a <cite>patch</cite> and <cite>sigma</cite> for Gaussian smoothing.</p>
<dl class="docutils">
<dt>patch <span class="classifier-delimiter">:</span> <span class="classifier">3D aray</span></dt>
<dd>Indicates the data patch of some size.</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma value of the Gaussian filter.</dd>
</dl>
<dl class="docutils">
<dt>(lat, azth, 255) <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>The latitude / elevation and azimuth components of 3D orientation with valid value
for the point at the skeleton. If the patch is None, then return (0, 0, -1) where
-1 indicates that this point of the skeleton is invalid.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.extract_patch">
<code class="descclassname">quanfima.morphology.</code><code class="descname">extract_patch</code><span class="sig-paren">(</span><em>data</em>, <em>pt</em>, <em>ws2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#extract_patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.extract_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a path from <cite>data</cite> of radius <cite>ws2</cite>.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D data array.</dd>
<dt>pt <span class="classifier-delimiter">:</span> <span class="classifier">array or tuple</span></dt>
<dd>Indicates the coordinates of a point within <cite>data</cite>.</dd>
<dt>ws2 <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates a half of the window size of the patch to be extracted.</dd>
</dl>
<dl class="docutils">
<dt>patch <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>The 3D patch extracted from the local window around the point <cite>pt</cite> in the <cite>data</cite>
with radius of <cite>ws2</cite>.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.numpy3d_to_array">
<code class="descclassname">quanfima.morphology.</code><code class="descname">numpy3d_to_array</code><span class="sig-paren">(</span><em>np_array</em>, <em>allow_surface_bind=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#numpy3d_to_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.numpy3d_to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts 3D numpy array to 3D device array.</p>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.object_counter">
<code class="descclassname">quanfima.morphology.</code><code class="descname">object_counter</code><span class="sig-paren">(</span><em>stack_binary_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#object_counter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.object_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Label and counts particles in a binary data.</p>
<dl class="docutils">
<dt>stack_binary_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D binary data.</dd>
</dl>
<dl class="docutils">
<dt>(objects_stats, labeled_stack) <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>The tuple of a DataFrame object of counted partilces and the labeled 3D data.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.orientation_3d_tensor_vigra">
<code class="descclassname">quanfima.morphology.</code><code class="descname">orientation_3d_tensor_vigra</code><span class="sig-paren">(</span><em>data</em>, <em>sigma=0.1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#orientation_3d_tensor_vigra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.orientation_3d_tensor_vigra" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes 3D orientation from a 3D structure tensor of <cite>data</cite>.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>Indicates the N-dimensional array.</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma value of the Gaussian filter.</dd>
</dl>
<dl class="docutils">
<dt>(lat, azth) <span class="classifier-delimiter">:</span> <span class="classifier">tuple of floats</span></dt>
<dd>The latitude / elevation and azimuth component of 3D orientation of structures within
the patch <cite>data</cite>.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.scan_fiber_thickness">
<code class="descclassname">quanfima.morphology.</code><code class="descname">scan_fiber_thickness</code><span class="sig-paren">(</span><em>angle, patch, angular_step=1.0, tilt_range=[-5, -4, -3, -2, -1, 0, 1, 2, 3, 4, 5], ray_len=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#scan_fiber_thickness"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.scan_fiber_thickness" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes an average diameter of a structure within a patch.</p>
<p>Estimates an average distance from sequence of distances calculated with <cite>cast_ray</cite>
function for a range of angles <cite>tilt_range</cite>.</p>
<dl class="docutils">
<dt>orientation <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the orientation angle of a structure centered within a patch.</dd>
<dt>patch <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd>Indicates the patch with a centered structure having orientation <cite>angle</cite>.</dd>
<dt>angular_step <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the angular step of the scanning range in degrees.</dd>
<dt>tilt_range <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the scanning range of steps to estimate the distance.</dd>
<dt>ray_len <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the maximum length of the ray.</dd>
</dl>
<dl class="docutils">
<dt>average_diameter <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>The average diameter of a structure centered within a patch.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.morphology.unpack_execute_tensor">
<code class="descclassname">quanfima.morphology.</code><code class="descname">unpack_execute_tensor</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/morphology.html#unpack_execute_tensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.morphology.unpack_execute_tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack input arguments and return result of <cite>execute_tensor</cite> function</p>
</dd></dl>

</div>
<div class="section" id="module-quanfima.simulation">
<span id="quanfima-simulation-module"></span><h2>quanfima.simulation module<a class="headerlink" href="#module-quanfima.simulation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="quanfima.simulation.additive_noise">
<code class="descclassname">quanfima.simulation.</code><code class="descname">additive_noise</code><span class="sig-paren">(</span><em>params</em>, <em>noise_lvl</em>, <em>smooth_lvl</em>, <em>use_median=True</em>, <em>median_rad=3</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#additive_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.additive_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Contaminates datasets with a speficied additive Gaussian noise and smoothing level.</p>
<p>Contaminates the datasets (generated with <cite>generate_datasets</cite> function) with the specified
level of additive Gaussian noise and smoothing, uneven illumination can be added by
extracting <cite>blobs</cite> from <cite>params</cite> tuple with some other arguments.</p>
<dl class="docutils">
<dt>params <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Contains <cite>name</cite>, <cite>dataset_path</cite>, <cite>blobs</cite>, <cite>output_dir</cite> arguments passed from
<cite>generate_noised_data</cite>.</dd>
<dt>noise_level <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the standard deviations of noise.</dd>
<dt>smooth_level <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma value of Gaussian filter.</dd>
<dt>use_median <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the median filter should be applied after addition of noise.</dd>
<dt>median_rad <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of median filter.</dd>
</dl>
<dl class="docutils">
<dt>datasets_props <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary containing the path to the reference dataset, the path to the
contaminated dataset, the generated name, the SNR level, the precision, the recall
and f1-score, and the level of noise and smoothing.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.generate_blobs">
<code class="descclassname">quanfima.simulation.</code><code class="descname">generate_blobs</code><span class="sig-paren">(</span><em>volume_size</em>, <em>blob_size_fraction=0.1</em>, <em>transparency_ratio=0.5</em>, <em>sigma=90.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#generate_blobs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.generate_blobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates random blobs smoothed with Gaussian filter in a volume.</p>
<p>Generates several blobs of random size in a volume using function from scikit-image,
which are subsequently smoothed with a Gaussian filter of a large sigma to imitate
3D uneven illumination of the volume.</p>
<dl class="docutils">
<dt>volume_size <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the size of the volume.</dd>
<dt>blob_size_fraction <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the fraction of volume occupied by blobs.</dd>
<dt>transparency_ratio <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the transparency of blobs in a range [0, 1].</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma of Gaussian filter.</dd>
</dl>
<dl class="docutils">
<dt>blobs_smeared <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>The volume with smoothed blobs of a specified transparency.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.generate_datasets">
<code class="descclassname">quanfima.simulation.</code><code class="descname">generate_datasets</code><span class="sig-paren">(</span><em>volume_size=(512</em>, <em>512</em>, <em>512)</em>, <em>n_fibers=50</em>, <em>radius_lim=(4</em>, <em>10)</em>, <em>length_lim=(0.2</em>, <em>0.8)</em>, <em>gap_lim=(3</em>, <em>10)</em>, <em>max_fails=100</em>, <em>median_rad=3</em>, <em>intersect=False</em>, <em>output_dir=None</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#generate_datasets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.generate_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates speficied configurations of fibers and stores in a npy file.</p>
<p>Simulates a number of fiber configurations speficied in <cite>params</cite> with <cite>n_fibers</cite> of the
radii and lengths in ranges <cite>radius_lim</cite> and <cite>length_lim</cite>, separated with gaps in a range
of <cite>gap_lim</cite>. The simulation process stops if the number of attempts to generate a fiber
exceeds <cite>max_fails</cite>.</p>
<dl class="docutils">
<dt>volume_size <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the size of the volume.</dd>
<dt>n_fibers <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of fibers to be generated.</dd>
<dt>radius_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of radii for fibers to be generated.</dd>
<dt>length_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of lengths for fibers to be generated.</dd>
<dt>gap_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of gaps separating the fibers from each other.</dd>
<dt>max_fails <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the maximum number of failures during the simulation process.</dd>
<dt>median_rad <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the radius of median filter to fill holes occured due to rounding of
coordinates of the generated fibers.</dd>
<dt>intersect <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if generated fibers can intersect.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
<dt>params <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>Indicates the configurations of orientation of fibers to be generated.</dd>
</dl>
<dl class="docutils">
<dt>out <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of generated datasets of specified configurations.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.generate_noised_data">
<code class="descclassname">quanfima.simulation.</code><code class="descname">generate_noised_data</code><span class="sig-paren">(</span><em>datasets_path, noise_levels=[0.0, 0.15, 0.3], smooth_levels=[0.0, 1.0, 2.0], blobs=None, use_median=True, median_rad=3, output_dir=None, n_processes=9</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#generate_noised_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.generate_noised_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Contaminates datasets with a speficied additive Gaussian noise and smoothing level.</p>
<p>Contaminates the datasets (generated with <cite>generate_datasets</cite> function) with the specified
level of additive Gaussian noise and smoothing, uneven illumination can be added if
<cite>blobs</cite> is provided. The contaminating process can be performed in a parallel <cite>n_processes</cite>
processes.</p>
<dl class="docutils">
<dt>datasets_path <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to dataset.</dd>
<dt>noise_levels <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd>Indicates the array of standard deviations of noise.</dd>
<dt>smooth_levels <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd>Indicates the array of sigma values of Gaussian filter.</dd>
<dt>blobs <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>Indicates the volume of uneven illumination generated by <cite>generate_blobs</cite>.</dd>
<dt>use_median <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the median filter should be applied after addition of noise.</dd>
<dt>median_rad <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of median filter.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
<dt>n_processes <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of parallel processes.</dd>
</dl>
<dl class="docutils">
<dt>results <span class="classifier-delimiter">:</span> <span class="classifier">array of dicts</span></dt>
<dd>The array of dictionaries containing paths to contaminated datasets, and other
properties.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.generate_particle_dataset">
<code class="descclassname">quanfima.simulation.</code><code class="descname">generate_particle_dataset</code><span class="sig-paren">(</span><em>volume_size=(512</em>, <em>512</em>, <em>512)</em>, <em>n_particles=500</em>, <em>radius_lim=(4</em>, <em>10)</em>, <em>max_fails=100</em>, <em>output_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#generate_particle_dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.generate_particle_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates a speficied number of particles and stores complete dataset in a npy file.</p>
<dl class="docutils">
<dt>volume_size <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the size of the volume.</dd>
<dt>n_particles <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of particles to be generated.</dd>
<dt>radius_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of radii for particles to be generated.</dd>
<dt>max_fails <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the maximum number of failures during the simulation process.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the data will be stored.</dd>
</dl>
<dl class="docutils">
<dt>out <span class="classifier-delimiter">:</span> <span class="classifier">dict</span></dt>
<dd>The dictionary of generated dataset.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.mkfiber">
<code class="descclassname">quanfima.simulation.</code><code class="descname">mkfiber</code><span class="sig-paren">(</span><em>dims_size</em>, <em>length</em>, <em>radius</em>, <em>azth</em>, <em>lat</em>, <em>offset_xyz</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#mkfiber"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.mkfiber" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes fiber coordinates and its length.</p>
<p>Computes a fiber of speficied <cite>length</cite>, <cite>radius</cite>, oriented under azimuth <cite>azth</cite> and
latitude / elevation <cite>lat</cite> angles shifted to <cite>offset_xyz</cite> from the center of a volume of
size <cite>dims_size</cite>.</p>
<dl class="docutils">
<dt>dims_size <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the size of the volume.</dd>
<dt>length <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the length of the simulated fiber.</dd>
<dt>radius <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the radius of the simulated fiber.</dd>
<dt>azth <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the azimuth component of the orientation angles of the fiber in radians.</dd>
<dt>lat <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the latitude / elevation component of the orientation angles of the fiber
in radians.</dd>
<dt>offset_xyz <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the offset from the center of the volume where the fiber will be generated.</dd>
</dl>
<dl class="docutils">
<dt>fiber_pts, fiber_len <span class="classifier-delimiter">:</span> <span class="classifier">tuple of array and number</span></dt>
<dd>The array of fiber coordinates and the length.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.random_in">
<code class="descclassname">quanfima.simulation.</code><code class="descname">random_in</code><span class="sig-paren">(</span><em>rng</em>, <em>number=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#random_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.random_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a random value within a given range.</p>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.simulate_fibers">
<code class="descclassname">quanfima.simulation.</code><code class="descname">simulate_fibers</code><span class="sig-paren">(</span><em>volume_shape</em>, <em>n_fibers=1</em>, <em>radius_lim=(4</em>, <em>10)</em>, <em>length_lim=(0.2</em>, <em>0.8)</em>, <em>lat_lim=(0</em>, <em>3.141592653589793)</em>, <em>azth_lim=(0</em>, <em>3.141592653589793)</em>, <em>gap_lim=(3</em>, <em>10)</em>, <em>max_fails=10</em>, <em>max_len_loss=0.5</em>, <em>intersect=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#simulate_fibers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.simulate_fibers" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates fibers in a volume.</p>
<p>Simulates <cite>n_fibers</cite> of the radii and lengths in ranges <cite>radius_lim</cite> and <cite>length_lim</cite>,
oriented in a range of azimuth <cite>azth_lim</cite> and latitude elevation ‘lat_lim’ angles,
separated with a gap in a range of <cite>gap_lim</cite>. The simulation process stops if the number
of attempts to generate a fiber exceeds <cite>max_fails</cite>.</p>
<dl class="docutils">
<dt>volume_shape <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the size of the volume.</dd>
<dt>n_fibers <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of fibers to be generated.</dd>
<dt>radius_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of radii for fibers to be generated.</dd>
<dt>length_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of lengths for fibers to be generated.</dd>
<dt>lat_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of latitude / elevation component of the orientation angles of
the fibers to be generated.</dd>
<dt>azth_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of azimuth component of the orientation angles of the fibers to
be generated.</dd>
<dt>gap_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of gaps separating the fibers from each other.</dd>
<dt>max_fails <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the maximum number of failures during the simulation process.</dd>
<dt>max_len_loss <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the maximum fraction of the generated fiber placed out of volume, exceeding
which the fiber is counted as failed.</dd>
<dt>intersect <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if generated fibers can intersect.</dd>
</dl>
<dl class="docutils">
<dt>(volume, lat_ref, azth_ref, diameter, n_generated, elapsed_time) <span class="classifier-delimiter">:</span> <span class="classifier">tuple of arrays and numbers</span></dt>
<dd>The binary volume of generated fibers, the volumes of latitude / elevation and
azimuth angles at every fiber point, the volume of diameters at every fibers point,
the number of generated fibers and the simulation time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.simulate_particles">
<code class="descclassname">quanfima.simulation.</code><code class="descname">simulate_particles</code><span class="sig-paren">(</span><em>volume_shape</em>, <em>n_particles=1</em>, <em>radius_lim=(3</em>, <em>30)</em>, <em>max_fails=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#simulate_particles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.simulate_particles" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulates particles in a volume.</p>
<p>Simulates <cite>n_particles</cite> of the radii in a range <cite>radius_lim</cite>. The simulation process
stops if the number of attempts to generate a particle exceeds <cite>max_fails</cite>.</p>
<dl class="docutils">
<dt>volume_shape <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the size of the volume.</dd>
<dt>n_particles <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of particles to be generated.</dd>
<dt>radius_lim <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of radii for particles to be generated.</dd>
<dt>max_fails <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the maximum number of failures during the simulation process.</dd>
</dl>
<dl class="docutils">
<dt>(volume, diameter, n_generated, elapsed_time) <span class="classifier-delimiter">:</span> <span class="classifier">tuple of arrays and numbers</span></dt>
<dd>The binary volume of generated particles, the volume of diameters at every point of
particles, the number of generated particles and the simulation time.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.simulation.unpack_additive_noise">
<code class="descclassname">quanfima.simulation.</code><code class="descname">unpack_additive_noise</code><span class="sig-paren">(</span><em>args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/simulation.html#unpack_additive_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.simulation.unpack_additive_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Unpack arguments and return result of <cite>additive_noise</cite> function.</p>
</dd></dl>

</div>
<div class="section" id="module-quanfima.utils">
<span id="quanfima-utils-module"></span><h2>quanfima.utils module<a class="headerlink" href="#module-quanfima.utils" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="quanfima.utils.calculate_tukey_posthoc">
<code class="descclassname">quanfima.utils.</code><code class="descname">calculate_tukey_posthoc</code><span class="sig-paren">(</span><em>df</em>, <em>column</em>, <em>type_column='type'</em>, <em>verbose=True</em>, <em>write=False</em>, <em>name=None</em>, <em>output_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/utils.html#calculate_tukey_posthoc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.utils.calculate_tukey_posthoc" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes p-values using ANOVA with post-hoc Tukey HSD for a given DataFrame.</p>
<p>Estimates p-values for a given DataFrame assuming that the sample
type is named as <cite>type_column</cite>.</p>
<dl class="docutils">
<dt>df <span class="classifier-delimiter">:</span> <span class="classifier">pandas DataFrame</span></dt>
<dd>Contains the table of values ans corresponding types or classes.</dd>
<dt>column <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the column of values.</dd>
<dt>type_column <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the column of sample kind.</dd>
<dt>verbose <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the output should be printed into a terminal.</dd>
<dt>write <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the output should be written into a text file.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the output dir where the file will be written.</dd>
</dl>
<dl class="docutils">
<dt>dict <span class="classifier-delimiter">:</span> <span class="classifier">sample typles and p-values</span></dt>
<dd>The dict of sample types and cooresponding p-values.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.utils.geo2rgb">
<code class="descclassname">quanfima.utils.</code><code class="descname">geo2rgb</code><span class="sig-paren">(</span><em>lat</em>, <em>azth</em>, <em>azth_max=3.141592653589793</em>, <em>lat_max=3.141592653589793</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/utils.html#geo2rgb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.utils.geo2rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates geo-coordinates to color in RGB color space.</p>
<dl class="docutils">
<dt>lat <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates latitude or elevation component of a given geo-coordinates.</dd>
<dt>azth <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates azimuth component of a given geo-coordinates.</dd>
<dt>azth_max <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the normalization value for the azimuth component.</dd>
<dt>lat_max <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the normalization value for the latitude or elevation component.</dd>
</dl>
<dl class="docutils">
<dt>array <span class="classifier-delimiter">:</span> <span class="classifier">tuple of values</span></dt>
<dd>The tuple of RGB values [R, G, B].</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.utils.prepare_data">
<code class="descclassname">quanfima.utils.</code><code class="descname">prepare_data</code><span class="sig-paren">(</span><em>data</em>, <em>dilate_iterations=1</em>, <em>sigma=0.5</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/utils.html#prepare_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.utils.prepare_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given binary data, its skeleton and the thickened skeleton.</p>
<p>The skeleton of a given 2D or 3D array is computed, then it is thickened
using morphological dilation with <cite>dilate_iterations</cite> and smoothed with
help of Gaussian filter of specified <cite>sigma</cite>.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>2D or 3D binary array which will be processed.</dd>
<dt>dilate_iterations <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of iterations for thickenning the skeleton.</dd>
<dt>sigma <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the sigma of Gaussian filter used in smoothing of skeleton.</dd>
</dl>
<dl class="docutils">
<dt>arrays <span class="classifier-delimiter">:</span> <span class="classifier">tuple of 2D or 3D arrays</span></dt>
<dd>The original array, its skeleton and the thickened skeleton.</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-quanfima.visualization">
<span id="quanfima-visualization-module"></span><h2>quanfima.visualization module<a class="headerlink" href="#module-quanfima.visualization" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="quanfima.visualization.create_pie_chart">
<code class="descclassname">quanfima.visualization.</code><code class="descname">create_pie_chart</code><span class="sig-paren">(</span><em>data, rngs, colors=['#244268', '#426084', '#67809F', '#95A9C1', '#C6D2E0'], unit_scale=1.0, measure_quantity='m^3', figsize=(33, 15), legend_loc=(0.383, -0.25), zebra_color=(False, 3), legend_fontsize=50, chart_fontsize=60, dpi=72, name=None, output_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#create_pie_chart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.create_pie_chart" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the piechart of from a given data.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">1D array</span></dt>
<dd>Indicates the array containing the values.</dd>
<dt>rngs <span class="classifier-delimiter">:</span> <span class="classifier">tuple of tuples</span></dt>
<dd>Indicates the ranges of the piechart.</dd>
<dt>colors <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd>Indicates the color for the region of the piechart corresponding to the
specific range.</dd>
<dt>unit_scale <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the scale factor of the data values.</dd>
<dt>measure_quantity <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of measure of the values.</dd>
<dt>figsize <span class="classifier-delimiter">:</span> <span class="classifier">tuple of integers</span></dt>
<dd>Indicates the size of the output figure.</dd>
<dt>legend_loc <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the position of the legend of the figure.</dd>
<dt>zebra_color <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Allows to change the text color of the region to white from the first to
the speficied index of the region (True, reg_index).</dd>
<dt>legend_fontsize <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the fontsize of the legend.</dd>
<dt>chart_fontsize <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the fontsize of the figure.</dd>
<dt>dpi <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the DPI of the output image.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.gather_polar_errors">
<code class="descclassname">quanfima.visualization.</code><code class="descname">gather_polar_errors</code><span class="sig-paren">(</span><em>datasets_path</em>, <em>estimation_path</em>, <em>azth_rng=array([-90</em>, <em>-87</em>, <em>-84</em>, <em>-81</em>, <em>-78</em>, <em>-75</em>, <em>-72</em>, <em>-69</em>, <em>-66</em>, <em>-63</em>, <em>-60</em>, <em>-57</em>, <em>-54</em>, <em>-51</em>, <em>-48</em>, <em>-45</em>, <em>-42</em>, <em>-39</em>, <em>-36</em>, <em>-33</em>, <em>-30</em>, <em>-27</em>, <em>-24</em>, <em>-21</em>, <em>-18</em>, <em>-15</em>, <em>-12</em>, <em>-9</em>, <em>-6</em>, <em>-3</em>, <em>0</em>, <em>3</em>, <em>6</em>, <em>9</em>, <em>12</em>, <em>15</em>, <em>18</em>, <em>21</em>, <em>24</em>, <em>27</em>, <em>30</em>, <em>33</em>, <em>36</em>, <em>39</em>, <em>42</em>, <em>45</em>, <em>48</em>, <em>51</em>, <em>54</em>, <em>57</em>, <em>60</em>, <em>63</em>, <em>66</em>, <em>69</em>, <em>72</em>, <em>75</em>, <em>78</em>, <em>81</em>, <em>84</em>, <em>87</em>, <em>90])</em>, <em>lat_rng=array([ 0</em>, <em>3</em>, <em>6</em>, <em>9</em>, <em>12</em>, <em>15</em>, <em>18</em>, <em>21</em>, <em>24</em>, <em>27</em>, <em>30</em>, <em>33</em>, <em>36</em>, <em>39</em>, <em>42</em>, <em>45</em>, <em>48</em>, <em>51</em>, <em>54</em>, <em>57</em>, <em>60</em>, <em>63</em>, <em>66</em>, <em>69</em>, <em>72</em>, <em>75</em>, <em>78</em>, <em>81</em>, <em>84</em>, <em>87</em>, <em>90])</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#gather_polar_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.gather_polar_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the absolute angular error in ranges between estimated datasets.</p>
<p>Calculates the absolute angular error in ranges <cite>azth_rng</cite> and <cite>lat_rng</cite>
between estimated orientation datasets localed at paths <cite>datasets_path</cite> and
<cite>estimation_path</cite>.</p>
<dl class="docutils">
<dt>datasets_path <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the reference / estimated dataset.</dd>
<dt>estimation_path <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the estimated / reference dataset.</dd>
<dt>azth_rng <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd>Indicates the ranges of azimuth angles where the error is accumulated.</dd>
<dt>lat_rng <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd>Indicates the ranges of latitude or elevation angles where the error
is accumulated.</dd>
</dl>
<dl class="docutils">
<dt>array <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd>The 2D array of accumulated errors within the combinations of the specified
angular ranges.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_3d_diameter_map">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_3d_diameter_map</code><span class="sig-paren">(</span><em>name</em>, <em>data</em>, <em>unit_scale=1.0</em>, <em>measure_quantity='vox'</em>, <em>radius_structure_elem=1</em>, <em>output_dir=None</em>, <em>width=512</em>, <em>height=512</em>, <em>camera_azth=44.5</em>, <em>camera_elev=35.8</em>, <em>camera_roll=0.0</em>, <em>camera_fov=35.0</em>, <em>camera_zoom=0.0035</em>, <em>camera_loc=(67.0</em>, <em>81.6</em>, <em>45.2)</em>, <em>xlabel=''</em>, <em>ylabel=''</em>, <em>zlabel=''</em>, <em>axis_color='w'</em>, <em>background_color='k'</em>, <em>cb_x_offset=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_3d_diameter_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_3d_diameter_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders orientation data in 3D with RGB angular color-coding.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing diameter at every point of the skeleton.</dd>
<dt>unit_scale <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the scale factor of the data values.</dd>
<dt>measure_quantity <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of measure of the values.</dd>
<dt>radius_structure_elem <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of the structure element of the dilation process to
thicken the skeleton.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
<dt>camera_azth <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the azimuth angle of the camera.</dd>
<dt>width <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the width of the visualization window.</dd>
<dt>height <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the width of the visualization window.</dd>
<dt>camera_elev <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the latitude / elevation angle of the camera.</dd>
<dt>camera_roll <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the roll angle of the camera.</dd>
<dt>camera_fov <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the field of view of the camera.</dd>
<dt>camera_zoom <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the zoom level of the camera.</dd>
<dt>camera_loc <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the camera location.</dd>
<dt>xlabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label along the x-axis.</dd>
<dt>ylabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label along the y-axis.</dd>
<dt>zlabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label along the z-axis.</dd>
<dt>axis_color <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the color of axes.</dd>
<dt>background_color <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the background color of the figure.</dd>
<dt>cb_x_offset <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the offset of the colorbar from the right window side.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_3d_orientation_map">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_3d_orientation_map</code><span class="sig-paren">(</span><em>name</em>, <em>lat_data</em>, <em>azth_data</em>, <em>radius_structure_elem=1</em>, <em>output_dir=None</em>, <em>width=512</em>, <em>height=512</em>, <em>camera_azth=44.5</em>, <em>camera_elev=35.8</em>, <em>camera_roll=0.0</em>, <em>camera_fov=35.0</em>, <em>camera_zoom=0.0035</em>, <em>camera_loc=(67.0</em>, <em>81.6</em>, <em>45.2)</em>, <em>xlabel=''</em>, <em>ylabel=''</em>, <em>zlabel=''</em>, <em>axis_color='w'</em>, <em>background_color='k'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_3d_orientation_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_3d_orientation_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders orientation data in 3D with RGB angular color-coding.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>lat_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing latitude / elevation angle at every point of
the skeleton in radians.</dd>
<dt>azth_data <span class="classifier-delimiter">:</span> <span class="classifier">3D array</span></dt>
<dd>Indicates the 3D array containing azimuth angle at every point of the skeleton
in radians.</dd>
<dt>radius_structure_elem <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of the structure element of the dilation process to
thicken the skeleton.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
<dt>width <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the width of the visualization window.</dd>
<dt>height <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the width of the visualization window.</dd>
<dt>camera_azth <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the azimuth angle of the camera.</dd>
<dt>camera_elev <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the latitude / elevation angle of the camera.</dd>
<dt>camera_roll <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the roll angle of the camera.</dd>
<dt>camera_fov <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the field of view of the camera.</dd>
<dt>camera_zoom <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the zoom level of the camera.</dd>
<dt>camera_loc <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the camera location.</dd>
<dt>xlabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label along the x-axis.</dd>
<dt>ylabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label along the y-axis.</dd>
<dt>zlabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label along the z-axis.</dd>
<dt>axis_color <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the color of axes.</dd>
<dt>background_color <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the background color of the figure.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_color_wheel">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_color_wheel</code><span class="sig-paren">(</span><em>name</em>, <em>output_dir=None</em>, <em>dpi=500</em>, <em>xlabel='Elevation'</em>, <em>ylabel='Azimuth'</em>, <em>fontsize=10</em>, <em>num_xticks=4</em>, <em>yticks=(-90</em>, <em>90)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_color_wheel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_color_wheel" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the color wheel for visualizations of 3D orintation.</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
<dt>dpi <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the DPI of the output image.</dd>
<dt>xlabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the text along the x-axis.</dd>
<dt>ylabel <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the text along the y-axis.</dd>
<dt>fontsize <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the font size of labels along axes.</dd>
<dt>num_xticks <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Indicates the number of ticks along axes.</dd>
<dt>yticks <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the range of minimum and maximum values along the y-axis.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_diameter_map">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_diameter_map</code><span class="sig-paren">(</span><em>thickness_map, fiber_skel, radius_structure_elem=1, figsize=(15, 15), cmap='hsv', tmin=None, tmax=None, dpi=200, labelsize=20, label='Diameter, [pixels]', name=None, output_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_diameter_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_diameter_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the diameter map with the colorbar.</p>
<p>Plots the diameter map from the provided diameters <cite>thickness_map</cite> and
skeleton <cite>fiber_skel</cite> of size <cite>figsize</cite> using the colormap <cite>cmap</cite> and the
limits of the colorbar specified by <cite>tmin</cite> and <cite>tmax</cite>, and writes as a png
file with DPI of <cite>dpi</cite> to the folder specified by <cite>output_dir</cite>.</p>
<dl class="docutils">
<dt>thickness_map <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>2D array of diameter at every point of the skeleton.</dd>
<dt>fiber_skel <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>The binary skeleton extracted from the binary data.</dd>
<dt>radius_structure_elem <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of the structure element of the dilation process to
thicken the skeleton.</dd>
<dt>figsize <span class="classifier-delimiter">:</span> <span class="classifier">tuple of integers</span></dt>
<dd>Indicates the size of the output figure.</dd>
<dt>cmap <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of a colormap used to map angles to colors.</dd>
<dt>tmin <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the minimum value of the colorbar.</dd>
<dt>tmax <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the maximum value of the colorbar.</dd>
<dt>dpi <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the DPI of the output image.</dd>
<dt>labelsize <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the fontsize of the label of the colorbar.</dd>
<dt>label <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label of the colorbar.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_fourier_orientation">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_fourier_orientation</code><span class="sig-paren">(</span><em>data</em>, <em>orient_blocks</em>, <em>block_shape</em>, <em>figsize=(12</em>, <em>12)</em>, <em>cmap='gray'</em>, <em>line_length=20</em>, <em>line_width=2.5</em>, <em>line_color='red'</em>, <em>line_style='-'</em>, <em>name=None</em>, <em>output_dir=None</em>, <em>dpi=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_fourier_orientation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_fourier_orientation" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the orientation map in a block-wise manner.</p>
<p>Plots the orientation vector over the image <cite>data</cite> at the center of each
block of the subdivided image. The orientation at every block ‘orient_blocks’
and its size <cite>block_shape</cite> are specified by orientation estimation method.
The result can be and stored as a png file with DPI of <cite>dpi</cite> to the folder
specified by <cite>output_dir</cite>.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>An image on top of which, the orientation will be plotted..</dd>
<dt>orient_blocks <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>2D array of orientation at every block of the subdivided image.</dd>
<dt>block_shape <span class="classifier-delimiter">:</span> <span class="classifier">tuple</span></dt>
<dd>Indicates the block size within which the orientation is calculated.</dd>
<dt>figsize <span class="classifier-delimiter">:</span> <span class="classifier">tuple of integers</span></dt>
<dd>Indicates the size of the output figure.</dd>
<dt>cmap <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of a colormap used for image.</dd>
<dt>line_length <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the length of the orientation vector at each block.</dd>
<dt>line_width <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the line width of the orientation vector at each block.</dd>
<dt>line_color <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the line color of the orientation vector at each block.</dd>
<dt>line_style <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the line style of the orientation vector at each block.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
<dt>dpi <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the DPI of the output image.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_histogram_fig">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_histogram_fig</code><span class="sig-paren">(</span><em>data</em>, <em>num_bins</em>, <em>xticks</em>, <em>color</em>, <em>splot_index=111</em>, <em>output_dir=None</em>, <em>xlim=(None</em>, <em>None)</em>, <em>ylim=(None</em>, <em>None)</em>, <em>name=None</em>, <em>in_percent=False</em>, <em>bar_width=0.8</em>, <em>ticks_pad=7</em>, <em>xticks_fontsize=22</em>, <em>yticks_fontsize=22</em>, <em>xlabel=None</em>, <em>ylabel=None</em>, <em>labels_fontsize=20</em>, <em>grid_alpha=0.3</em>, <em>title_fontsize=22</em>, <em>exp_fontsize=15</em>, <em>type=None</em>, <em>figsize=(12</em>, <em>8)</em>, <em>dpi=200</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_histogram_fig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_histogram_fig" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the histogram from a given data.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">1D array</span></dt>
<dd>Indicates the array containing the values.</dd>
<dt>num_bins <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the number of histogram bins.</dd>
<dt>xticks <span class="classifier-delimiter">:</span> <span class="classifier">array</span></dt>
<dd>Indicates the array of ticks of the X-axis.</dd>
<dt>color <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the color of the histogram.</dd>
</dl>
<p>tuple : tuple of Figure and Axis objects.</p>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_orientation_map">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_orientation_map</code><span class="sig-paren">(</span><em>orient_map</em>, <em>fiber_skel</em>, <em>radius_structure_elem=1</em>, <em>figsize=(12</em>, <em>12)</em>, <em>cmap='hsv'</em>, <em>dpi=200</em>, <em>min_label='0'</em>, <em>max_label='180'</em>, <em>name=None</em>, <em>output_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_orientation_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_orientation_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the orientation map with the color wheel.</p>
<p>Plots the orientation map from the provided angles <cite>orient_map</cite> and skeleton
<cite>fiber_skel</cite> of size <cite>figsize</cite> using the colormap <cite>cmap</cite> and writes as a png
file with DPI of <cite>dpi</cite> to the folder specified by <cite>output_dir</cite>.</p>
<dl class="docutils">
<dt>orient_map <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>2D array of orientation at every point of the skeleton.</dd>
<dt>fiber_skel <span class="classifier-delimiter">:</span> <span class="classifier">ndarray</span></dt>
<dd>The binary skeleton extracted from the binary data.</dd>
<dt>radius_structure_elem <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the size of the structure element of the dilation process to
thicken the skeleton.</dd>
<dt>figsize <span class="classifier-delimiter">:</span> <span class="classifier">tuple of integers</span></dt>
<dd>Indicates the size of the output figure.</dd>
<dt>cmap <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of a colormap used to map angles to colors.</dd>
<dt>dpi <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the DPI of the output image.</dd>
<dt>min_label <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label of minimum degree.</dd>
<dt>max_label <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the label of minimum degree.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="quanfima.visualization.plot_polar_heatmap">
<code class="descclassname">quanfima.visualization.</code><code class="descname">plot_polar_heatmap</code><span class="sig-paren">(</span><em>data</em>, <em>name</em>, <em>interp_factor=5.0</em>, <em>color_limits=False</em>, <em>hide_colorbar=False</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>log_scale=True</em>, <em>dpi=200</em>, <em>output_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/quanfima/visualization.html#plot_polar_heatmap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#quanfima.visualization.plot_polar_heatmap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the polar heatmap describing azimuth and latitude / elevation components.</p>
<p>Plots the polar heatmap where each cell of the heatmap corresponds to
the specific element of the array provided by <cite>gather_polar_errors</cite>
function.</p>
<dl class="docutils">
<dt>data <span class="classifier-delimiter">:</span> <span class="classifier">2D array</span></dt>
<dd>Indicates the array containing the sum of angular errors within the
specified angular ranges. It is usually provided by <cite>gather_polar_errors</cite>
function.</dd>
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the name of the output png file.</dd>
<dt>interp_factor <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the interpolation factor of the heatmap.</dd>
<dt>color_limits <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the determined intensity limits should be returned.</dd>
<dt>hide_colorbar <span class="classifier-delimiter">:</span> <span class="classifier">boolean</span></dt>
<dd>Specifies if the colorbar should be hidden.</dd>
<dt>vmin <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the minimum value of the colorbar.</dd>
<dt>vmax <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Indicates the maximum value of the colorbar.</dd>
<dt>log_scale <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>Specifies if the heatmap sould be in the logarithmic scale.</dd>
<dt>dpi <span class="classifier-delimiter">:</span> <span class="classifier">integer</span></dt>
<dd>Indicates the DPI of the output image.</dd>
<dt>output_dir <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd>Indicates the path to the output folder where the image will be stored.</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="change_log.html" class="btn btn-neutral float-right" title="ChangeLog">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="Quickstart"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Roman Shkarin, Andrei Shkarin.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1a1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>